<project name="3.0" default="build-ear-testing" basedir=".">

	<!-- GLOBAL PROPERTIES -->
	
	<property file="user.properties" />
	<property file="common.properties" />
	<property environment="env" />
	<property name="lib" value="lib/jars" />
	<property name="buildlib" value="lib/build-client" />
	<property name="artifact.dir" value="${build.dir}/artifacts/" />
	<property name="ant.regexp.matcherimpl" value="org.apache.tools.ant.util.regexp.JakartaOroRegexp" />
	<property name="main-class" value="com.bagnet.nettracer.cronjob.NettracerCron" />
	<property name="axis2.classpath" value="base.libraries" />
	
	<tstamp>
		<format property="VERSION" pattern="yyyyMMdd-HHmm" locale="en" />
	</tstamp>
	
	<!-- END GLOBAL PROPERTIES -->
	<patternset id="java.files">
		<include name="**/**/*.java" />
	</patternset>
	<patternset id="class.files">
		<include name="**/**/*.class" />
	</patternset>
	<patternset id="jar.files">
		<include name="**/*.jar" />
		<include name="**/*.zip" />
	</patternset>
	<patternset id="xml.files">
		<include name="**/**/*.xml" />
	</patternset>
	<patternset id="hbm.xml.files">
		<include name="**/**/*.hbm.xml" />
	</patternset>
	
	<path id="project.classpath">
		<fileset dir="${lib.build-client.dir}">
			<patternset refid="jar.files" />
		</fileset>
		<fileset dir="${lib.jar.dir}">
			<patternset refid="jar.files" />
		</fileset>
		<fileset dir="${basedir}/lib/provided">
			<patternset refid="jar.files" />
		</fileset>
		<fileset dir="${basedir}/lib/client-us">
			<patternset refid="jar.files" />
		</fileset>
	</path>	

	<!-- GLOBAL TASKDEFS -->
	
	<taskdef name="hibernatedoclet" classname="org.xdoclet.ant.XDocletTask">
		<classpath refid="project.classpath" />
	</taskdef>

	<taskdef name="hibernatetool" classname="org.hibernate.tool.ant.HibernateToolTask" classpathref="project.classpath" />

	<taskdef name="jrc" classname="net.sf.jasperreports.ant.JRAntCompileTask">
		<classpath refid="project.classpath" />
	</taskdef>
	
	<taskdef name="if" classname="ise.antelope.tasks.IfTask">
		<classpath refid="project.classpath" />
	</taskdef>
	
	<!-- END GLOBAL TASKDEFS -->
	
	<!-- GLOBAL PATHS -->

	<!-- jameleon stuff -->
	<path id="classpath">
		<fileset dir="jameleon-2.0.1.lib">
			<include name="**/*.jar" />
		</fileset>
		<pathelement location="build" />
	</path>

	<!-- web service -->
	<path id="base.libraries">
		<pathelement location="${build.classes}" />
		<fileset dir="${axis2.home}\lib">
			<include name="*.jar" />
		</fileset>
	</path>

	<path id="cron-class-path">
		<fileset dir="${lib.build-client.dir}" id="cronjar1">
			<patternset refid="jar.files" />
			<exclude name="commons-collections*.*" />
			<exclude name="backport*.*" />
			<exclude name="quartz*.*" />
		</fileset>
		<fileset dir="${lib.jar.dir}" id="cronjar2">

			<exclude name="backport-util*.jar" />
			<exclude name="commons-collections*.*" />
			<include name="*.jar" />
		</fileset>
		<fileset dir="${lib.build-cron.dir}" id="cronjar3">
			<include name="backport-util*.jar" />
			<include name="commons-collections*.jar" />
			<include name="quartz*.jar" />
			<include name="spring*.jar" />
			<include name="wrapper.jar" />
		</fileset>
	</path>
	
	<!-- END GLOBAL PATHS -->
	
	<!-- UTILITY TARGETS -->

	<target name="all" depends="clean" />

	<target name="build" depends="init,compile-web"  />

	<target name="clean">
		<antcall target="delete" />
		<delete dir="other" />
	</target>

	<target name="fast_all" depends="package-web2">
		<delete dir="${app.deploy.dir.jb5}/tracer.war" failonerror="false" />
		<delete file="${app.deploy.dir.jb5}/tracer.war" failonerror="false" />
	</target>
	
	<target name="init" unless="flag">
		<patternset id="java.files">
			<include name="**/**/*.java" />
		</patternset>
		<patternset id="class.files">
			<include name="**/**/*.class" />
		</patternset>
		<patternset id="jar.files">
			<include name="**/*.jar" />
			<include name="**/*.zip" />
		</patternset>
		<patternset id="xml.files">
			<include name="**/**/*.xml" />
		</patternset>
		<patternset id="hbm.xml.files">
			<include name="**/**/*.hbm.xml" />
		</patternset>
		<!-- Create a flag property to ensure 'init' runs only once-->
		<property name="flag" value="true" />
		<!-- Standard echo to indentify current build phase -->
		<!-- Create the time stamp -->
		<tstamp />
		<mkdir dir="${build.dir}/${ant_project_name}_web/classes" />
		<mkdir dir="${build.dir}/dist/web" />
		<mkdir dir="${build.dir}/${ant_project_name}_app/classes" />
		<mkdir dir="${build.dir}/dist/app" />
		<mkdir dir="${build.dir}/dist/cron" />
		<mkdir dir="${build.dir}/${ant_project_name}/classes" />
		<mkdir dir="${build.dir}/${ant_project_name}/ddl" />
		<mkdir dir="${artifact.dir}/${ant_project_name}" />
		<mkdir dir="${artifact.dir}/${ant_project_name}/zip" />

		<mkdir dir="${build.dir}/webservices/passengerview" />
		
	</target>

	<target name="delete">
		<delete file="${basedir}/src/custom_ui.properties" />
		<delete file="${basedir}/src/report_email.html" />
		<delete file="${basedir}/src/report_email_es.html" />
		<delete file="${basedir}/src/report_email_fr.html" />
		<delete file="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		<delete file="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources_es.properties" />
		<delete file="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources_fr.properties" />
		<delete file="${basedir}/web/WEB-INF/jboss-app.xml" />
		<delete file="${basedir}/web/pages/login/center.jsp" />
		<delete file="${basedir}/web/WEB-INF/context.xml" />
		<delete file="${basedir}/src/hibernate_main.cfg.xml" />
		<delete file="${basedir}/src/hibernate_dirty.cfg.xml" />
		<delete file="${basedir}/src/hibernate_demo.cfg.xml" />
		<delete file="${basedir}/src/hibernate_qa.cfg.xml" />
		<delete file="${basedir}/src/hibernate_reporting.cfg.xml" />
		<delete file="${basedir}/src/tracer.properties" />
		<delete file="${basedir}/web/reports/LostDelayReceipt.jrxml" />
		<delete file="${basedir}/web/reports/LostDelayReceipt.jasper" />
		<delete file="${basedir}/web/reports/DamageReceipt.jrxml" />
		<delete file="${basedir}/web/reports/DamageReceipt.jasper" />
		<delete file="${basedir}/web/reports/MissingReceipt.jrxml" />
		<delete file="${basedir}/web/reports/MissingReceipt.jasper" />
		<delete file="${basedir}/web/reports/LostDelayReceipt_fr.jrxml" />
		<delete file="${basedir}/web/reports/LostDelayReceipt_fr.jasper" />
		<delete file="${basedir}/web/reports/DamageReceipt_fr.jrxml" />
		<delete file="${basedir}/web/reports/DamageReceipt_fr.jasper" />
		<delete file="${basedir}/web/reports/MissingReceipt_fr.jrxml" />
		<delete file="${basedir}/web/reports/MissingReceipt_fr.jasper" />
	</target>
	
	<!-- COMPILE TARGETS -->

	<target name="compile-core" depends="init">
		<javac srcdir="./src" fork="true" destdir="${build.dir}/${ant_project_name}/classes" debug="on">
			<classpath refid="project.classpath" />
			<exclude name="com/bagnet/nettracer/tracing/actions/**/*.*" />
			<exclude name="com/bagnet/nettracer/ws/**/*.*" />
			<exclude name="com/bagnet/nettracer/tracing/forms/**/*.*" />
			<exclude name="com/bagnet/nettracer/servlets/**/*.*" />
			<exclude name="com/bagnet/nettracer/cronjob/**/*.*" />
			<exclude name="com/bagnet/clients/airtran/**/*.*" />
			<exclude name="com/bagnet/clients/b6/**/*.*" unless="include.b6" />
		</javac>
	</target>

	<!-- This is used  -->
	<target name="compile-web" depends="init">
		<javac srcdir="./src" fork="true" destdir="${build.dir}/${ant_project_name}_web/classes" debug="on" memoryinitialsize="256m" verbose="true" >
			<classpath refid="project.classpath" />
			<exclude name="com/bagnet/nettracer/cronjob/**" />
			<exclude name="com/bagnet/clients/airtran/**" unless="include.fl" />
			<exclude name="com/bagnet/clients/us/**" unless="include.us" />
			<exclude name="com/bagnet/clients/demo/**" unless="include.demo" />
			<exclude name="com/bagnet/clients/ws/**" unless="include.ws" />
			<exclude name="com/bagnet/clients/b6/**" unless="include.b6" />
		</javac>
	</target>

	<target name="jasper_compile" description="generate .jasper compiled files from jrxml." depends="compile-web">
		<jrc srcdir="${basedir}/web/reports">
			<classpath>
				<path refid="project.classpath" />
				<path location="${build.dir}/${ant_project_name}_web/classes" />
			</classpath>
			<include name="**/*.jrxml"/>
		</jrc>
	</target>
	
	<!-- END COMPILE TARGETS -->
	
	<!-- HIBERNATE TARGETS -->

	<target name="hibernate_generate" description="Generates Hibernate class descriptor files." depends="compile-web">
		<hibernatedoclet>
			<fileset dir="src">
				<include name="com/bagnet/nettracer/tracing/db/*.java" />
				<include name="com/bagnet/nettracer/tracing/db/audit/*.java" />
				<exclude name="com/bagnet/nettracer/tracing/db/Incident.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/ExpensePayout.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/Claim.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/CrmFile.java"/>
			</fileset>
			<component classname="org.xdoclet.plugin.hibernate.HibernateMappingPlugin" destdir="src/" version="3.0" />
		</hibernatedoclet>

		<replace dir="src" value="&lt;hibernate-mapping default-lazy=&quot;false&quot;&gt;">
			<include name="com/bagnet/nettracer/tracing/db/*.hbm.xml" />
			<include name="com/bagnet/nettracer/tracing/db/audit/*.hbm.xml" />
			<replacetoken><![CDATA[<hibernate-mapping>]]></replacetoken>
		</replace>
	</target>

	<target name="hibernate_generate_core" description="Generates Hibernate class descriptor files.">
		<hibernatedoclet>
			<fileset dir="src">
				<exclude name="com/bagnet/nettracer/tracing/db/Incident.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/ExpensePayout.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/Claim.java"/>
				<exclude name="com/bagnet/nettracer/tracing/db/CrmFile.java"/>
				
				<include name="com/bagnet/nettracer/tracing/db/*.java" />
				
				<include name="com/bagnet/nettracer/tracing/db/audit/*.java" />
			</fileset>
			<component classname="org.xdoclet.plugin.hibernate.HibernateMappingPlugin" destdir="${build.dir}/${ant_project_name}/classes" version="3.0" />
		</hibernatedoclet>

		<replace dir="${build.dir}/${ant_project_name}/classes" value="&lt;hibernate-mapping default-lazy=&quot;false&quot; &gt;">
			<include name="com/bagnet/nettracer/tracing/db/*.hbm.xml" />
			<include name="com/bagnet/nettracer/tracing/db/audit/*.hbm.xml" />
			<replacetoken><![CDATA[<hibernate-mapping>]]></replacetoken>
		</replace>
	</target>
	
	<!-- HIBERNATE SCHEMA EXPORT BUILD TARGETS -->

	<target name="mysqlSchema">
		<property name="ant_project_name" value="tracer" />
		<antcall target="schemaexport" />
	</target>
	<target name="sqlServerSchema">
		<property name="ant_project_name" value="usair" />
		<antcall target="schemaexport" />
	</target>

	<target name="schemaexport" depends="compile-core,hibernate_generate_core" description="Exports a generated schema to DB and file">
		<hibernatetool destdir="${build.dir}/${ant_project_name}/ddl">
			<classpath>
				<path refid="project.classpath" />
				<path location="${build.dir}/${ant_project_name}/classes" />
			</classpath>
			<annotationconfiguration configurationfile="companies/westjet/environment/local/hibernate_main.cfg.xml" />
			<hbm2ddl drop="true" create="true" export="false" outputfilename="nettracer-ddl.sql" delimiter=";" format="true" />
		</hibernatetool>
	</target>

	<target name="generate.db.delta" depends="compile-core,hibernate_generate_core" description="Use the HBMs to update a database schema">
		<hibernatetool destdir="${build.dir}/${ant_project_name}/ddl" templatepath="${template.dir}">
			<classpath>
				<path refid="project.classpath" />
				<path location="${build.dir}/${ant_project_name}/classes" />
			</classpath>
			<annotationconfiguration configurationfile="companies/westjet/environment/test/hibernate_main.cfg.xml" />
			<hbm2ddl export="false" update="true" outputfilename="nt-delta.sql" delimiter=";" format="true"/>
		</hibernatetool>
	</target>

	<!-- END HIBERNATE SCHEMA EXPORT BUILD TARGETS -->
	
	<!-- END HIBERNATE TARGETS -->
	
	<!-- FILE COPY/DELETE TARGETS -->

	<!-- Copy any resource or configuration files -->
	<target name="resources2" >
		<copy todir="${build.dir}/${ant_project_name}_web/classes" includeEmptyDirs="no">
			<fileset dir="src">
				<patternset>
					<include name="**/*.conf" />
					<include name="**/*.properties" />
					<include name="**/*.xml" />
					<include name="**/*.html" />
					<include name="**/*.wsdl" />
					<include name="**/*.0" />
					<include name="**/*.jpg" />
				</patternset>
			</fileset>
		</copy>
	</target>
	
	<target name="delete-wars">
		<delete failonerror="false">
			<fileset dir="${build.dir}/dist/web">
	    		<include name="*.war"/>
			</fileset>
		</delete>
	</target>
	
	<target name="custom-ui-env-spec" if="fraud.build" >
		<copy todir="${basedir}/src" file="companies/jetblue/environment/${environment.name}/custom_ui.properties" overwrite="true"/>
	</target>
	
	<!-- END FILE COPY/DELETE TARGETS -->

	<!-- WAR BUILD TARGETS -->

	<target name="package-web2" depends="resources2">
		<!-- time stamp for a build -->
		<tstamp>
			<format property="VERSION" pattern="yyyyMMdd-HHmm " locale="en" />
		</tstamp>

		<delete dir="${build.dir}/${ant_project_name}/webWorking" failonerror="false" includeemptydirs="true" />

		<antcall target="package-web-env-spec" />
		
		<available file="${basedir}/companies/${ant_project_name}/environment/${environment.name}/web" type="dir" property="dir.exists"/>
		<if name="dir.exists" exists="true">
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/companies/${ant_project_name}/environment/${environment.name}/web">
				<exclude name="**/*/jboss-web.xml"/>
			</fileset>
		</copy>
		</if>
		
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/companies/${ant_project_name}/web">
				<exclude name="**/*/jboss-web.xml"/>
			</fileset>
		</copy>
		
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/web">
				<exclude name="**/web.xml" />
				<exclude name="pages/WebHelp/**/**/*.*" />
				<exclude name="WEB-INF/classes/**/*.*" />
				<exclude name="**/*/jboss-web.xml"/>
			</fileset>
		</copy>
		<!--
		<replaceregexp match="\s+" replace=" " flags="g" byline="false">
			<fileset dir="${build.dir}/${ant_project_name}/webWorking" includes="**/*.jsp" />
		</replaceregexp>
		-->
		
		<war destfile="${build.dir}/dist/web/${ant_war_name}.war" webxml="${basedir}/web/WEB-INF/web.xml" duplicate="preserve">
			<!--  EDITING HERE -->
			<fileset dir="${build.dir}/${ant_project_name}/webWorking" />
			<classes dir="${build.dir}/${ant_project_name}_web/classes" />
			<lib dir="${lib.jar.dir}">
				<exclude name="log4j*.*" />
				<exclude name="servlet.jar" />
				<exclude name="netty.jar" />
				<exclude name="mysql-connector-java*.jar" />
				<exclude name="c3p0*.jar" />
				<exclude name="hibernate*.jar" />
				<exclude name="ReservationService*.jar" />
				<exclude name="axis2*.jar" />
				<exclude name="jxl*.jar" />
				<exclude name="iText*.jar" />
				<exclude name="commons*.jar" />
				<exclude name="dsi.jar" />
				<exclude name="delivery*.jar" />
				<exclude name="cglib*.*" />
				<exclude name="asm*.*" />
				<exclude name="jasper*.*" />
				<exclude name="jfree*.*" />
				<exclude name="poi*.*" />
				<exclude name="JetBlue*.*" />
				<exclude name="sqljdbc*.*" />
				<exclude name="struts*.*" />
				<exclude name="PaxView*.*" />
				<exclude name="ehcache*.*" />
				<exclude name="us-crm*.*" />
				<exclude name="Dynamic*.*" />
				<exclude name="hornetq*.*" />
				<exclude name="axiom*.*" />
				<exclude name="libphone*.*" />
				<exclude name="geronimo*.*" />
				<exclude name="xmlbeans*.*" />
				<exclude name="xmlschema*.*" />
				<exclude name="neethi*.*" />
				<exclude name="httpcore*.*" />
				<exclude name="htmlparser*.*" />
				<exclude name="woden*.*" />
									
			</lib>
		</war>
	</target>

	<target name="package-web-env-spec" if="fraud.build" >
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/companies/${ant_project_name}/environment/${environment.name}/web">
				<exclude name="**/*/jboss-web.xml"/>
			</fileset>
		</copy>
	</target>

	<!-- END WAR BUILD TARGETS -->

	<!-- EAR BUILD TARGETS -->
	
	<target name="donotrun-build-ear">
		
		<copy todir="${build.dir}/dist/web/lib" >
			<fileset dir="${lib.jar.dir}"
			includes="*.jar"
			excludes="mysql-connector-java*.jar,
					  netty.jar"
			/>
		</copy> 
		
		<ear destfile="${build.dir}/tracer.ear" appxml="${basedir}/${app.xml.location}/application.xml">
			<fileset dir="${build.dir}/dist/web" includes="${avis.service.includes}"/>

		</ear>
		
		<copy todir="${app.deploy.dir.jb5}">
			<fileset dir="${build.dir}">
				<include name="tracer.ear" />
			</fileset>
		</copy>
		<copy todir="${staging.dir}/${staging.env}/${staging.project}" file="${build.dir}/tracer.ear"/>
	</target>

	<!-- END EAR BUILD TARGETS -->
	
	<!-- END UTILITY TARGETS -->
	
	<target name="build-all">
		<antcall target="build-demo"/>
		<antcall target="build-testing"/>
		<antcall target="build-training"/>
		<antcall target="build-production"/>
	</target>
	
	<target name="build-demo">
		<antcall target="build-ear-demo"/>
		<antcall target="build-ear-demo-lfc-service"/>
		<antcall target="build-cron-demo-all"/>
	</target>
	
	<target name="build-testing">
		<antcall target="build-ear-testing"/>
		<antcall target="build-ear-testing-avis"/>
		<antcall target="build-ear-testing-avis-service"/>
		<antcall target="build-ear-testing-lfc-service"/>
		<antcall target="build-ear-testing-airtran"/>
		<antcall target="build-ear-testing-delta"/>
		<antcall target="build-ear-testing-united"/>
		<antcall target="build-ear-testing-american"/>
		<antcall target="build-ear-testing-webjet"/>
		<antcall target="build-ear-testing-lfc"/>
		<antcall target="build-ear-testing-demo-and-jetblue"/>
		<antcall target="build-cron-testing-all"/>
	</target>
	
	<target name="build-local">
		<antcall target="build-ear-local-lfc"/>
		<antcall target="build-ear-local-westjet"/>
	</target>
	
	<target name="build-training">
		<antcall target="build-ear-training"/>
		<antcall target="build-ear-training-avis"/>
		<antcall target="build-ear-training-avis-service"/>
		<antcall target="build-ear-training-lfc-service"/>
		<antcall target="build-ear-training-united"/>
		<antcall target="build-ear-training-american"/>
		<antcall target="build-ear-training-webjet"/>
		<antcall target="build-cron-training-all"/>
	</target>
	
	<target name="build-production">
		<antcall target="build-ear-production"/>
		<antcall target="build-ear-production-avis"/>
		<antcall target="build-ear-production-avis-service"/>
		<antcall target="build-ear-production-lfc-service"/>
		<antcall target="build-ear-production-airtran"/>
		<antcall target="build-ear-production-united"/>
		<antcall target="build-ear-production-webjet"/>
		<antcall target="build-cron-production-all"/>
	</target>
	
	<!-- ENVIRONMENT SPECIFIC EAR TARGETS -->
	 
	<target name="build-ear-local-avis" depends="delete-wars">
		<property name="staging.project" value="abtracer" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-avis"/>
		<property name="app.xml.location" value="metadata/ab/local" />
		<antcall target="donotrun-build-ear" />
	</target>
	 
	<target name="build-ear-local-avis-service" depends="delete-wars">
		<property name="staging.project" value="abservice" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-local-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	 
	<target name="build-ear-local-lfc" depends="delete-wars">
		<property name="staging.project" value="lfc" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-lfc"/>
		<property name="app.xml.location" value="metadata/lfc/local" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-local-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-local-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-local-westjet" depends="delete-wars">
		<property name="staging.project" value="wstracer" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-westjet"/>
		<property name="app.xml.location" value="metadata/westjet" />		
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-local-united" depends="delete-wars">
		<property name="staging.project" value="united-fs" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-united"/>
		<property name="app.xml.location" value="metadata/united-fs/local" />		
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-local-american" depends="delete-wars">
		<property name="staging.project" value="american-fs" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-american"/>
		<property name="app.xml.location" value="metadata/american-fs/local" />		
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-local-webjet" depends="delete-wars">
		<property name="staging.project" value="webjet" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-webjet"/>
		<property name="app.xml.location" value="metadata/webjet/local" />		
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-local-fraud" depends="delete-wars">
		<property name="staging.project" value="fstracer" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-local-fraud"/>
		<property name="app.xml.location" value="metadata/fraud" />		
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-fraud-jetblue" depends="delete-wars">
		<property name="staging.project" value="b6fstracer" />
		<property name="staging.env" value="local" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-fraud-jetblue"/>
		<property name="app.xml.location" value="metadata/jetblue" />		
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing" depends="delete-wars">
		<property name="staging.project" value="hosted" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-testing-avis"/>
		<antcall target="build-war-testing-westjet"/>
		<antcall target="build-war-testing-jetblue"/>
		<antcall target="build-war-testing-spirit"/>
		<antcall target="build-war-testing-azul"/>
		<antcall target="build-war-testing-delta"/>
		<antcall target="build-war-testing-american"/>
		<antcall target="build-war-testing-united"/>
		<antcall target="build-war-testing-webjet"/>
		<antcall target="build-war-testing-lfc"/>
		<property name="app.xml.location" value="metadata/testing" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-hudson" depends="delete-wars">
		<property name="staging.project" value="hosted" />
		<property name="staging.env" value="hudson" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-hudson-avis"/>
		<antcall target="build-war-hudson-westjet"/>
		<antcall target="build-war-hudson-jetblue"/>
		<antcall target="build-war-hudson-spirit"/>
		<antcall target="build-war-hudson-azul"/>
		<antcall target="build-war-hudson-delta"/>
		<antcall target="build-war-hudson-united"/>
		<antcall target="build-war-hudson-american"/>
		<antcall target="build-war-hudson-webjet"/>
		<antcall target="build-war-hudson-lfc"/>
		<property name="app.xml.location" value="metadata/hudson" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-demo" depends="delete-wars">
		<property name="staging.project" value="hosted" />
		<property name="staging.env" value="demo" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />
		<antcall target="build-war-demo-lfc"/>
		<antcall target="build-war-demo-alaska"/>
		<property name="app.xml.location" value="metadata/demo" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-avis" depends="delete-wars">
		<property name="staging.project" value="abtracer" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war,lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar" />
		<antcall target="build-war-testing-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/test" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-avis-service" depends="delete-wars">
		<property name="staging.project" value="abservice" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-testing-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-testing-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-hudson-avis-service" depends="delete-wars">
		<property name="staging.project" value="abservice" />
		<property name="staging.env" value="hudson" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar,lib/lfc-client-model.jar" />
		<antcall target="hibernate_generate" />
		<antcall target="build-war-hudson-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/service" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-hudson-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="hudson" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="hibernate_generate" />
		<antcall target="build-war-hudson-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-demo-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="demo" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="hibernate_generate" />
		<antcall target="build-war-demo-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-airtran" depends="delete-wars">
		<property name="staging.project" value="fltracer" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-testing-airtran"/>
		<property name="app.xml.location" value="metadata/testing/airtran" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-delta" depends="delete-wars">
		<property name="staging.project" value="dltracer" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-testing-delta"/>
		<property name="app.xml.location" value="metadata/delta/test" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-testing-united" depends="delete-wars">
		<property name="staging.project" value="united-fs" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-testing-united"/>
		<property name="app.xml.location" value="metadata/united-fs/test" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-testing-american" depends="delete-wars">
		<property name="staging.project" value="american-fs" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-testing-american"/>
		<property name="app.xml.location" value="metadata/american-fs/test" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-testing-webjet" depends="delete-wars">
		<property name="staging.project" value="webjet" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-testing-webjet"/>
		<property name="app.xml.location" value="metadata/webjet/test" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-lfc" depends="delete-wars">
		<property name="staging.project" value="lfc" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-testing-lfc"/>
		<property name="app.xml.location" value="metadata/lfc/test" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-testing-demo-and-jetblue" depends="delete-wars">
		<property name="staging.project" value="demo-b6tracer" />
		<property name="staging.env" value="testing" />
		<property name="avis.service.includes" value="*.war" />		
		<antcall target="build-war-local-fraud"/>		
		<antcall target="build-war-fraud-jetblue"/>
		<property name="app.xml.location" value="metadata/fraud_jetblue" />		
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-training" depends="delete-wars">
		<property name="staging.project" value="hosted" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-training-avis"/>
		<antcall target="build-war-training-westjet"/>
		<antcall target="build-war-training-jetblue"/>
		<antcall target="build-war-training-spirit"/>
		<antcall target="build-war-training-azul"/>
		<antcall target="build-war-training-delta"/>
		<antcall target="build-war-training-united"/>
		<antcall target="build-war-training-american"/>
		<antcall target="build-war-training-webjet"/>
		<antcall target="build-war-training-lfc"/>
		<property name="app.xml.location" value="metadata/training" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-training-avis" depends="delete-wars">
		<property name="staging.project" value="abtracer" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="*.war,lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar" />
		<antcall target="build-war-training-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/train" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-training-united" depends="delete-wars">
		<property name="staging.project" value="united" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-training-united"/>
		<property name="app.xml.location" value="metadata/united-fs/train" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-training-american" depends="delete-wars">
		<property name="staging.project" value="american" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-training-american"/>
		<property name="app.xml.location" value="metadata/american-fs/train" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-training-webjet" depends="delete-wars">
		<property name="staging.project" value="webjet" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="build-war-training-webjet"/>
		<property name="app.xml.location" value="metadata/webjet/train" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-training-avis-service" depends="delete-wars">
		<property name="staging.project" value="abservice" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-training-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-training-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="training" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-training-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-production" depends="delete-wars">
		<property name="staging.project" value="hosted" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-production-westjet"/>		
		<property name="app.xml.location" value="metadata/production" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-production-avis" depends="delete-wars">
		<property name="staging.project" value="abtracer" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war"/>
		<antcall target="build-war-production-avis"/>
		<antcall target="build-war-production-lfc"/>
		<antcall target="build-war-production-webjet"/>
		<antcall target="build-war-production-united"/>
		<antcall target="build-war-production-american"/>
		<antcall target="build-war-production-delta"/>
		<antcall target="build-war-production-jetblue"/>
		<antcall target="build-war-production-azul"/>
		<antcall target="build-war-production-spirit"/>
		<property name="app.xml.location" value="metadata/ab/prod" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-production-united" depends="delete-wars">
		<property name="staging.project" value="united-fs" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war"/>
		<antcall target="build-war-production-united"/>
		<property name="app.xml.location" value="metadata/united-fs/prod" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-production-american" depends="delete-wars">
		<property name="staging.project" value="american-fs" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war"/>
		<antcall target="build-war-production-american"/>
		<property name="app.xml.location" value="metadata/american-fs/prod" />
		<antcall target="donotrun-build-ear" />
	</target>

	<target name="build-ear-production-webjet" depends="delete-wars">
		<property name="staging.project" value="webjet" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war"/>
		<antcall target="build-war-production-webjet"/>
		<property name="app.xml.location" value="metadata/webjet/prod" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-production-avis-service" depends="delete-wars">
		<property name="staging.project" value="abservice" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,avis-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-production-avis"/>
		<antcall target="build-jar-avis-service"/>
		<property name="app.xml.location" value="metadata/ab/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-production-lfc-service" depends="delete-wars">
		<property name="staging.project" value="lfcservice" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="lib/avis-client-model.jar,lib/orchestra.jar,lfc-service.jar,lib/lfc-client-model.jar" />
		<antcall target="build-war-production-lfc"/>
		<antcall target="build-jar-lfc-service"/>
		<property name="app.xml.location" value="metadata/lfc/service" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<target name="build-ear-production-airtran" depends="delete-wars">
		<property name="staging.project" value="fltracer" />
		<property name="staging.env" value="production" />
		<property name="avis.service.includes" value="*.war" />
		<antcall target="hibernate_generate" />		
		<antcall target="build-war-production-airtran"/>
		<property name="app.xml.location" value="metadata/airtran" />
		<antcall target="donotrun-build-ear" />
	</target>
	
	<!-- END ENVIRONMENT SPECIFIC EAR TARGETS -->
	
	<!-- TESTING WAR TARGETS -->

	<target name="build-war-testing-avis" depends="delete">
		<property name="ant_project_name" value="ab" />
		<property name="ant_war_name" value="avis_testing" />
		<property name="ab.init.complete" value="true" />
		<property name="environment.name" value="test" />
		<antcall target="donotrun-build-ab" />
	</target>

	<target name="build-war-testing-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc_testing" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="test" />
		<antcall target="donotrun-build-lfc" />
	</target>
		
	<target name="build-war-testing-westjet" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="westjet_testing" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="test" />
		<antcall target="donotrun-build-westjet" />
	</target>
	
	<target name="build-war-testing-jetblue" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="jetblue_testing" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="test"/>
		<antcall target="donotrun-build-jetblue" />
	</target>
		
	<target name="build-war-testing-spirit" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit_testing" />
		<property name="environment.name" value="test"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-spirit" />
	</target>
		
	<target name="build-war-testing-azul" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul_testing" />
		<property name="environment.name" value="test"/>
		<property name="azul.init.complete" value="true" />
		<antcall target="donotrun-build-azul" />
	</target>
	
	<target name="build-war-testing-delta" depends="delete">
		<property name="ant_project_name" value="delta-fs" />
		<property name="ant_war_name" value="delta_testing" />
		<property name="environment.name" value="test"/>
		<property name="delta.init.complete" value="true" />
		<antcall target="donotrun-build-delta" />
	</target>

	<target name="build-war-testing-united" depends="delete">
		<property name="ant_project_name" value="united-fs" />
		<property name="ant_war_name" value="united_testing" />
		<property name="environment.name" value="test"/>
		<property name="united.init.complete" value="true" />
		<antcall target="donotrun-build-united" />
	</target>

	<target name="build-war-testing-american" depends="delete">
		<property name="ant_project_name" value="american-fs" />
		<property name="ant_war_name" value="american_testing" />
		<property name="environment.name" value="test"/>
		<property name="american.init.complete" value="true" />
		<antcall target="donotrun-build-american" />
	</target>

	<target name="build-war-testing-webjet" depends="delete">
		<property name="ant_project_name" value="webjet" />
		<property name="ant_war_name" value="webjet_testing" />
		<property name="environment.name" value="test"/>
		<property name="webjet.init.complete" value="true" />
		<antcall target="donotrun-build-webjet" />
	</target>

	<target name="build-war-testing-airtran" depends="delete">
		<property name="ant_project_name" value="airtran" />
		<property name="ant_war_name" value="airtran-test" />
		<property name="environment.name" value="test" />
		<antcall target="donotrun-build-airtran" />
	</target>
	
	<!-- END TESTING WAR TARGETS -->
	
	<!-- HUDSON WAR TARGETS -->

	<target name="build-war-hudson-avis" depends="delete">
		<property name="ant_project_name" value="ab" />
		<property name="ant_war_name" value="avis_hudson" />
		<property name="ab.init.complete" value="true" />
		<property name="environment.name" value="hudson" />
		<antcall target="donotrun-build-ab" />
	</target>

	<target name="build-war-hudson-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc_hudson" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="hudson" />
		<antcall target="donotrun-build-lfc" />
	</target>
		
	<target name="build-war-demo-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc_demo" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="demo" />
		<antcall target="donotrun-build-lfc" />
	</target>
	
	<target name="build-war-demo-alaska" depends="delete">
		<property name="ant_project_name" value="alaska" />
		<property name="ant_war_name" value="alaska_demo" />
		<property name="alaska.init.complete" value="true" />
		<property name="environment.name" value="demo" />
		<antcall target="donotrun-build-alaska" />
	</target>
	
	<target name="build-war-hudson-westjet" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="westjet_hudson" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="hudson" />
		<antcall target="donotrun-build-westjet" />
	</target>
	
	<target name="build-war-hudson-jetblue" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="jetblue_hudson" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="hudson"/>
		<antcall target="donotrun-build-jetblue" />
	</target>
		
	<target name="build-war-hudson-spirit" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-spirit" />
	</target>
		
	<target name="build-war-hudson-azul" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="azul.init.complete" value="true" />
		<antcall target="donotrun-build-azul" />
	</target>
	
	<target name="build-war-hudson-delta" depends="delete">
		<property name="ant_project_name" value="delta-fs" />
		<property name="ant_war_name" value="delta_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="delta.init.complete" value="true" />
		<antcall target="donotrun-build-delta" />
	</target>

	<target name="build-war-hudson-united" depends="delete">
		<property name="ant_project_name" value="united-fs" />
		<property name="ant_war_name" value="united_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="united.init.complete" value="true" />
		<antcall target="donotrun-build-united" />
	</target>

	<target name="build-war-hudson-american" depends="delete">
		<property name="ant_project_name" value="american-fs" />
		<property name="ant_war_name" value="american_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="american.init.complete" value="true" />
		<antcall target="donotrun-build-american" />
	</target>

	<target name="build-war-hudson-webjet" depends="delete">
		<property name="ant_project_name" value="webjet" />
		<property name="ant_war_name" value="webjet_hudson" />
		<property name="environment.name" value="hudson"/>
		<property name="webjet.init.complete" value="true" />
		<antcall target="donotrun-build-webjet" />
	</target>

	<target name="build-war-hudson-airtran" depends="delete">
		<property name="ant_project_name" value="airtran" />
		<property name="ant_war_name" value="airtran-hudson" />
		<property name="environment.name" value="hudson" />
		<antcall target="donotrun-build-airtran" />
	</target>
	
	<!-- END HUDSON WAR TARGETS -->
	
	<!-- PRODUCTION WAR TARGETS -->
	
	<target name="build-war-production-avis" depends="delete">
		<property name="ant_project_name" value="ab" />
		<property name="ant_war_name" value="avis_production" />
		<property name="ab.init.complete" value="true" />
		<property name="environment.name" value="prod" />
		<antcall target="donotrun-build-ab" />
	</target>
	
	<target name="build-war-production-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc_production" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="prod" />
		<antcall target="donotrun-build-lfc" />
	</target>
		
	<target name="build-war-production-westjet" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="westjet_production" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="prod" />
		<antcall target="donotrun-build-westjet" />
	</target>
	
	<target name="build-war-production-jetblue" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="jetblue_production" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="prod"/>
		<antcall target="donotrun-build-jetblue" />
	</target>
		
	<target name="build-war-production-spirit" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit_production" />
		<property name="environment.name" value="prod"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-spirit" />
	</target>
		
	<target name="build-war-production-azul" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul_production" />
		<property name="environment.name" value="prod"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-azul" />
	</target>

	<target name="build-war-production-airtran" depends="delete">
		<property name="ant_project_name" value="airtran" />
		<property name="ant_war_name" value="airtran-prod" />
		<property name="environment.name" value="prod" />
		<antcall target="donotrun-build-airtran" />
	</target>
	
	<target name="build-war-production-delta" depends="delete">
		<property name="ant_project_name" value="delta-fs" />
		<property name="ant_war_name" value="delta_production" />
		<property name="environment.name" value="prod"/>
		<property name="delta.init.complete" value="true" />
		<antcall target="donotrun-build-delta" />
	</target>
	
	<target name="build-war-production-united" depends="delete">
		<property name="ant_project_name" value="united-fs" />
		<property name="ant_war_name" value="united_production" />
		<property name="environment.name" value="prod"/>
		<property name="united.init.complete" value="true" />
		<antcall target="donotrun-build-united" />
	</target>

	<target name="build-war-production-american" depends="delete">
		<property name="ant_project_name" value="american-fs" />
		<property name="ant_war_name" value="american_production" />
		<property name="environment.name" value="prod"/>
		<property name="american.init.complete" value="true" />
		<antcall target="donotrun-build-american" />
	</target>

	<target name="build-war-production-webjet" depends="delete">
		<property name="ant_project_name" value="webjet" />
		<property name="ant_war_name" value="webjet_production" />
		<property name="environment.name" value="prod"/>
		<property name="webjet.init.complete" value="true" />
		<antcall target="donotrun-build-webjet" />
	</target>
	
	<!-- END PRODUCTION WAR TARGETS -->
	
	<!-- TRAINING WAR TARGETS -->

	<target name="build-war-training-avis" depends="delete">
		<property name="ant_project_name" value="ab" />
		<property name="ant_war_name" value="avis_training" />
		<property name="ab.init.complete" value="true" />
		<property name="environment.name" value="train" />
		<antcall target="donotrun-build-ab" />
	</target>

	<target name="build-war-training-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc_training" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="train" />
		<antcall target="donotrun-build-lfc" />
	</target>
	
	<target name="build-war-training-delta" depends="delete">
		<property name="ant_project_name" value="delta-fs" />
		<property name="ant_war_name" value="delta_training" />
		<property name="environment.name" value="train"/>
		<property name="delta.init.complete" value="true" />
		<antcall target="donotrun-build-delta" />
	</target>

	<target name="build-war-training-united" depends="delete">
		<property name="ant_project_name" value="united-fs" />
		<property name="ant_war_name" value="united_training" />
		<property name="environment.name" value="train"/>
		<property name="american.init.complete" value="true" />
		<antcall target="donotrun-build-united" />
	</target>

	<target name="build-war-training-american" depends="delete">
		<property name="ant_project_name" value="american-fs" />
		<property name="ant_war_name" value="american_training" />
		<property name="environment.name" value="train"/>
		<property name="american.init.complete" value="true" />
		<antcall target="donotrun-build-american" />
	</target>

	<target name="build-war-training-webjet" depends="delete">
		<property name="ant_project_name" value="webjet" />
		<property name="ant_war_name" value="webjet_training" />
		<property name="environment.name" value="train"/>
		<property name="webjet.init.complete" value="true" />
		<antcall target="donotrun-build-webjet" />
	</target>
		
	<target name="build-war-training-westjet" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="westjet_training" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="train" />
		<antcall target="donotrun-build-westjet" />
	</target>
	
	<target name="build-war-training-jetblue" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="jetblue_training" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="train"/>
		<antcall target="donotrun-build-jetblue" />
	</target>
		
	<target name="build-war-training-spirit" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit_training" />
		<property name="environment.name" value="train"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-spirit" />
	</target>
		
	<target name="build-war-training-azul" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul_training" />
		<property name="environment.name" value="train"/>
		<property name="spirit.init.complete" value="true" />
		<antcall target="donotrun-build-azul" />
	</target>
	
	<!-- END TRAINING WAR TARGETS -->
	
	<!-- LOCAL WAR TARGETS -->

	<target name="build-war-local-westjet" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="westjet" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-westjet" />
	</target>

	<target name="build-war-local-united" depends="delete">
		<property name="ant_project_name" value="united-fs" />
		<property name="ant_war_name" value="ua" />
		<property name="ua.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-united" />
	</target>

	<target name="build-war-local-american" depends="delete">
		<property name="ant_project_name" value="american-fs" />
		<property name="ant_war_name" value="aa" />
		<property name="aa.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-american" />
	</target>

	<target name="build-war-local-webjet" depends="delete">
		<property name="ant_project_name" value="webjet" />
		<property name="ant_war_name" value="wh" />
		<property name="wh.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-webjet" />
	</target>

	<target name="build-war-local-lfc" depends="delete">
		<property name="ant_project_name" value="lfc" />
		<property name="ant_war_name" value="lfc" />
		<property name="lfc.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-lfc" />
	</target>
	
	<target name="build-war-local-avis" depends="delete">
		<property name="ant_project_name" value="ab" />
		<property name="ant_war_name" value="ab" />
		<property name="ab.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-ab" />
	</target>

	<target name="build-war-local-fraud" depends="delete">
		<property name="ant_project_name" value="fraud" />
		<property name="ant_war_name" value="fraud" />
		<property name="fraud.init.complete" value="true" />
		<property name="environment.name" value="local" />
		<antcall target="donotrun-build-fraud" />
	</target>

	<target name="build-war-fraud-jetblue" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="b6fraud" />
		<property name="environment.name" value="fraud"/>
		<property name="jetblue.init.complete" value="true" />
		<property name="fraud.build" value="true" />
		<antcall target="donotrun-build-jetblue" />
	</target>
	
	<!-- END LOCAL WAR TARGETS -->
	
	<!-- SERVICE JAR TARGETS -->

	<target name="build-jar-avis-service">
		<jar destfile="${build.dir}/dist/web/avis-client-model.jar" basedir="${build.dir}/ab_web/classes/">
			<include name="**/**/aero/nettracer/avis/**/*.class" />
		</jar>
		<jar destfile="${build.dir}/dist/web/avis-service-remote.jar" basedir="${build.dir}/ab_web/classes/">
			<include name="**/**/aero/nettracer/lf/services/AvisClientServiceRemote.class" />
			<include name="**/**/com/bagnet/nettracer/tracing/constant/TracingConstants.class" />
		</jar>
		<jar destfile="${build.dir}/dist/web/avis-service.jar" basedir="${build.dir}/ab_web/classes/"
			manifest="${src.dir}/../metadata/ab/services/MANIFEST.MF">
			<metainf dir="${src.dir}/../metadata/ab/services">
				<include name="ejb-jar.xml"/>
			</metainf>
			<include name="**/**/*.class" />
			<include name="**/**/*.xml" />
			<include name="**/**/*.properties" />
			<exclude name="**/**/jndi.properties"/>
		</jar>
	</target>

	<target name="build-jar-lfc-service">
		<jar destfile="${build.dir}/dist/web/lfc-service-remote.jar" basedir="${build.dir}/lfc_web/classes/">
			<include name="**/**/aero/nettracer/lf/services/LFCClientServiceRemote.class" />
			<include name="**/**/com/bagnet/nettracer/tracing/constant/TracingConstants.class" />
		</jar>
		<jar destfile="${build.dir}/dist/web/lfc-service.jar" basedir="${build.dir}/lfc_web/classes/"
			manifest="${src.dir}/../metadata/lfc/services/MANIFEST.MF">
			<metainf dir="${src.dir}/../metadata/lfc/services">
				<include name="ejb-jar.xml"/>
			</metainf>
			<include name="**/**/*.class" />
			<include name="**/**/*.xml" />
			<include name="**/**/*.properties" />
			<exclude name="**/**/jndi.properties"/>
		</jar>
	</target>
	
	<target name="build-jar-ntfs-model">
		<delete file="${build.dir}/claim_model.jar" failonerror="false"/>
		<jar destfile="${build.dir}/claim_model.jar">
			<!--  MAY NEED TO EDIT THE FRAUD_WEB BELOW TO POINT TO WHAT BUILDS THE CLASSES -->
			<fileset dir="${build.dir}/ab_web/classes/" >
				<include name="**/**/aero/nettracer/fs/model/transport/**/*.*"/>
				<include name="**/**/com/bagnet/nettracer/tracing/utils/DateUtils.class"/>
				<include name="**/**/com/bagnet/nettracer/tracing/constant/TracingConstants.class"/>
				<include name="**/**/com/bagnet/nettracer/tracing/utils/StringUtils.class"/>
			</fileset>
		</jar>
		<delete file="${svc.dir}/claim_model.jar" failonerror="false"/>
		<copy todir="${svc.dir}" file="${build.dir}/claim_model.jar" verbose="true"/>
	</target>
	
	<!-- END SERVICE JAR TARGETS -->

	<!-- CRON TARGETS -->
	<target name="build-cron-testing-all">
		<antcall target="build-cron-testing-avis"/>
		<antcall target="build-cron-testing-westjet"/>
		<antcall target="build-cron-testing-jetblue"/>
		<antcall target="build-cron-testing-azul"/>
		<antcall target="build-cron-testing-spirit"/>
		<antcall target="build-cron-testing-lfc"/>
		<antcall target="build-cron-testing-webjet"/>
		<antcall target="build-cron-testing-airtran"/>
				
	</target>
	<target name="build-cron-training-all">
		<antcall target="build-cron-training-avis"/>
		<antcall target="build-cron-training-westjet"/>
		<antcall target="build-cron-training-jetblue"/>
		<antcall target="build-cron-training-azul"/>
		<antcall target="build-cron-training-spirit"/>
		<antcall target="build-cron-training-lfc"/>
		<antcall target="build-cron-training-webjet"/>
	</target>
	<target name="build-cron-production-all">
		<antcall target="build-cron-production-avis"/>
		<antcall target="build-cron-production-westjet"/>
		<antcall target="build-cron-production-jetblue"/>
		<antcall target="build-cron-production-azul"/>
		<antcall target="build-cron-production-spirit"/>
		<antcall target="build-cron-production-lfc"/>
		<antcall target="build-cron-production-webjet"/>
		<antcall target="build-cron-production-airtran"/>
	</target>
	<target name="build-cron-hudson-all">
		<antcall target="build-cron-hudson-avis"/>
		<antcall target="build-cron-hudson-azul"/>
		<antcall target="build-cron-hudson-jetblue"/>
		<antcall target="build-cron-hudson-spirit"/>
		<antcall target="build-cron-hudson-westjet"/>
		<antcall target="build-cron-hudson-lfc"/>
		<antcall target="build-cron-hudson-webjet"/>
	</target>
	<target name="build-cron-demo-all">
		<antcall target="build-cron-demo-lfc"/>
		<antcall target="build-cron-demo-da"/>
	</target>
	
	<!-- AVIS CRON TARGETS -->

	<target name="build-cron-local-avis">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="local" />
		<property name="ant_project_name" value="ab" />
		<property name="sub_path" value="local/" />
		<property name="cron.job.config.file" value="companies/ab/environment/local/jobs/cronJobs.xml" />
		<property name="jarprefix" value="ablocal-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-testing-avis">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="ab" />
		<property name="sub_path" value="test/" />
		<property name="cron.job.config.file" value="companies/ab/environment/test/jobs/cronJobs.xml" />
		<property name="jarprefix" value="abtest-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-training-avis">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="ab" />
		<property name="sub_path" value="train/" />
		<property name="cron.job.config.file" value="companies/ab/environment/train/jobs/cronJobs.xml" />
		<property name="jarprefix" value="abtrain-" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-production-avis">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="ab" />
		<property name="sub_path" value="prod/" />
		<property name="cron.job.config.file" value="companies/ab/environment/prod/jobs/cronJobs.xml" />
		<property name="jarprefix" value="abprod-" />
		<antcall target="cron-service" />
	</target>		

	<target name="build-cron-hudson-avis">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="ab" />
		<property name="sub_path" value="hudson/" />
		<property name="cron.job.config.file" value="companies/ab/environment/hudson/jobs/cronJobs.xml" />
		<property name="jarprefix" value="abhudson-" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END AVIS CRON TARGETS -->
	
	<!-- LFC CRON TARGETS -->

	<target name="build-cron-local-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="local" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="local/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/local/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfclocal-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-testing-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="test/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/test/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfctest-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-training-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="train/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/train/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfctrain-" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-production-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="prod/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/prod/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfcprod-" />
		<antcall target="cron-service" />
	</target>		

	<target name="build-cron-hudson-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="hudson/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/hudson/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfchudson-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-demo-lfc">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="demo" />
		<property name="ant_project_name" value="lfc" />
		<property name="sub_path" value="demo/" />
		<property name="cron.job.config.file" value="companies/lfc/environment/demo/jobs/cronJobs.xml" />
		<property name="jarprefix" value="lfcdemo-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-demo-da">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="demo" />
		<property name="ant_project_name" value="alaska" />
		<property name="sub_path" value="demo/" />
		<property name="cron.job.config.file" value="companies/alaska/environment/demo/jobs/cronJobs.xml" />
		<property name="jarprefix" value="dademo-" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END LFC CRON TARGETS -->
	
	<!-- WESTJET CRON TARGETS -->
	
	<target name="build-cron-testing-westjet">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="westjet" />
		<property name="sub_path" value="test/" />
		<property name="cron.job.config.file" value="companies/westjet/environment/test/jobs/cronJobs.xml" />
		<property name="jarprefix" value="wstest-" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-training-westjet">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="westjet" />
		<property name="sub_path" value="train/" />
		<property name="cron.job.config.file" value="companies/westjet/environment/train/jobs/cronJobs.xml" />
		<property name="jarprefix" value="wstrain-" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-production-westjet">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="westjet" />
		<property name="sub_path" value="prod/" />
		<property name="jarprefix" value="wsprod-" />
		<property name="cron.job.config.file" value="companies/westjet/environment/prod/jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-hudson-westjet">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="westjet" />
		<property name="sub_path" value="hudson/" />
		<property name="jarprefix" value="wshudson-" />
		<property name="cron.job.config.file" value="companies/westjet/environment/hudson/jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END WESTJET CRON TARGETS -->
	
	<!-- WEBJET CRON TARGETS -->
		
		<target name="build-cron-testing-webjet">
			<property name="staging.project" value="cron" />
			<property name="staging.env" value="testing" />
			<property name="ant_project_name" value="webjet" />
			<property name="sub_path" value="test/" />
			<property name="cron.job.config.file" value="companies/webjet/environment/test/jobs/cronJobs.xml" />
			<property name="jarprefix" value="whtest-" />
			<antcall target="cron-service" />
		</target>
		
		<target name="build-cron-training-webjet">
			<property name="staging.project" value="cron" />
			<property name="staging.env" value="training" />
			<property name="ant_project_name" value="webjet" />
			<property name="sub_path" value="train/" />
			<property name="cron.job.config.file" value="companies/webjet/environment/train/jobs/cronJobs.xml" />
			<property name="jarprefix" value="whtrain-" />
			<antcall target="cron-service" />
		</target>

		<target name="build-cron-production-webjet">
			<property name="staging.project" value="cron" />
			<property name="staging.env" value="production" />
			<property name="ant_project_name" value="webjet" />
			<property name="sub_path" value="prod/" />
			<property name="jarprefix" value="whprod-" />
			<property name="cron.job.config.file" value="companies/webjet/environment/prod/jobs/cronJobs.xml" />
			<antcall target="cron-service" />
		</target>

		<target name="build-cron-hudson-webjet">
			<property name="staging.project" value="cron" />
			<property name="staging.env" value="hudson" />
			<property name="ant_project_name" value="webjet" />
			<property name="sub_path" value="hudson/" />
			<property name="jarprefix" value="whhudson-" />
			<property name="cron.job.config.file" value="companies/webjet/environment/hudson/jobs/cronJobs.xml" />
			<antcall target="cron-service" />
		</target>
		
		<!-- END WEBJET CRON TARGETS -->
	
	<!-- JETBLUE CRON TARGETS -->
	
	<target name="build-cron-testing-jetblue">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="jetblue" />
		<property name="sub_path" value="test/" />
		<property name="jarprefix" value="b6test-" />
		<property name="cron.job.config.file" value="companies/jetblue/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-training-jetblue">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="jetblue" />
		<property name="sub_path" value="train/" />
		<property name="jarprefix" value="b6train-" />
		<property name="cron.job.config.file" value="companies/jetblue/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-production-jetblue">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="jetblue" />
		<property name="sub_path" value="prod/" />
		<property name="jarprefix" value="b6prod-" />
		<property name="cron.job.config.file" value="companies/jetblue/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-hudson-jetblue">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="jetblue" />
		<property name="sub_path" value="hudson/" />
		<property name="jarprefix" value="b6hudson-" />
		<property name="cron.job.config.file" value="companies/jetblue/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END JETBLUE CRON TARGETS -->
	
	<!-- AZUL CRON TARGETS -->

	<target name="build-cron-production-azul">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="azul" />
		<property name="sub_path" value="production/" />
		<property name="jarprefix" value="adprod-" />
		<property name="cron.job.config.file" value="companies/azul/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>	
	
	<target name="build-cron-training-azul">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="azul" />
		<property name="sub_path" value="train/" />
		<property name="jarprefix" value="adtrain-" />
		<property name="cron.job.config.file" value="companies/azul/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>	
	
	<target name="build-cron-testing-azul">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="azul" />
		<property name="sub_path" value="test/" />
		<property name="jarprefix" value="adtest-" />
		<property name="cron.job.config.file" value="companies/azul/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-hudson-azul">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="azul" />
		<property name="sub_path" value="hudson/" />
		<property name="jarprefix" value="adhudson-" />
		<property name="cron.job.config.file" value="companies/azul/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END AZUL CRON TARGETS -->
	
	<!-- SPIRIT CRON TARGETS -->

	<target name="build-cron-testing-spirit">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="spirit" />
		<property name="sub_path" value="test/" />
		<property name="jarprefix" value="nktest-" />
		<property name="cron.job.config.file" value="companies/spirit/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-training-spirit">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="training" />
		<property name="ant_project_name" value="spirit" />
		<property name="sub_path" value="train/" />
		<property name="jarprefix" value="nktrain-" />
		<property name="cron.job.config.file" value="companies/spirit/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-production-spirit">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="spirit" />
		<property name="sub_path" value="prod/" />
		<property name="jarprefix" value="nkprod-" />
		<property name="cron.job.config.file" value="companies/spirit/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-hudson-spirit">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="hudson" />
		<property name="ant_project_name" value="spirit" />
		<property name="sub_path" value="hudson/" />
		<property name="jarprefix" value="nkhudson-" />
		<property name="cron.job.config.file" value="companies/spirit/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END SPIRIT CRON TARGETS -->
	
	<!-- AIRTRAN CRON TARGETS -->

	<target name="build-cron-testing-airtran">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="testing" />
		<property name="ant_project_name" value="airtran"/>
		<property name="jarprefix" value="airtran-test-"/>
		<property name="sub_path" value="test/"/>
		<property name="cron.job.config.file" value="companies/airtran/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="build-cron-production-airtran">
		<property name="staging.project" value="cron" />
		<property name="staging.env" value="production" />
		<property name="ant_project_name" value="airtran"/>
		<property name="jarprefix" value="airtran-prod-"/>
		<property name="sub_path" value="prod/"/>
		<property name="cron.job.config.file" value="companies/airtran/environment/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<!-- END AIRTRAN CRON TARGETS -->
	
	<!-- USAIR CRON TARGETS -->
	<!-- UNUSED
	<target name="usair-build-cron">
		<property name="ant_project_name" value="usair" />
		<property name="sub_path" value="" />
		<antcall target="cron-service" />
	</target>

	<target name="usair-build-cron-all">
		<antcall target="usair-build-cron-dev" />
		<antcall target="usair-build-cron-beta" />
		<antcall target="usair-build-cron-prod1" />
		<antcall target="usair-build-cron-prod2" />
		<antcall target="usair-build-cron-prod3" />
	</target>

	<target name="usair-build-cron-dev">
		<property name="ant_project_name" value="usair" />
		<property name="sub_path" value="dev/" />
		<property name="jarprefix" value="dev-" />
		<property name="cron.job.config.file" value="companies/usair/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="usair-build-cron-beta">
		<property name="ant_project_name" value="usair" />
		<property name="sub_path" value="beta/" />
		<property name="jarprefix" value="beta-" />
		<property name="cron.job.config.file" value="companies/usair/${sub_path}jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="usair-build-cron-prod1">
		<property name="ant_project_name" value="usair" />
		<property name="jarprefix" value="prod1-" />
		<property name="sub_path" value="production/" />
		<property name="cron.job.config.file" value="companies/usair/${sub_path}jobs/cronJobs1.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="usair-build-cron-prod2">
		<property name="ant_project_name" value="usair"/>
		<property name="jarprefix" value="prod2-"/>
		<property name="sub_path" value="production/"/>
		<property name="cron.job.config.file" value="companies/usair/${sub_path}jobs/cronJobs2.xml" />
		<antcall target="cron-service" />
	</target>

	<target name="usair-build-cron-prod3">
		<property name="ant_project_name" value="usair"/>
		<property name="jarprefix" value="prod3-"/>
		<property name="sub_path" value="production/"/>
		<property name="cron.job.config.file" value="companies/usair/${sub_path}jobs/cronJobs3.xml" />
		<antcall target="cron-service" />
	</target>
	END UNUSED -->
	<!-- END USAIR CRON TARGETS -->
	
	<!-- DEMO CRON TARGETS -->
	<!-- UNUSED
	<target name="build-cron-demo-alaska">
		<property name="ant_project_name" value="alaska" />
		<property name="sub_path" value="demo/" />
		<property name="jarprefix" value="alaska-demo-" />
		<property name="cron.job.config.file" value="companies/alaska/jobs/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	
	<target name="build-cron-development">
		<property name="ant_project_name" value="tracer"/>
		<property name="sub_path" value="production/"/>
		<property name="cron.job.config.file" value="companies/tracer/cronJobs.xml" />
		<antcall target="cron-service" />
	</target>
	END UNUSED -->
	<!-- END DEMO CRON TARGETS -->
	
	<!-- CRON UTILITY TARGETS -->
	
	<target name="compile-cron" depends="init">
		<javac srcdir="src" destdir="${build.dir}/${ant_project_name}/classes" debug="on">
			<classpath refid="cron-class-path" />
			<include name="com/bagnet/nettracer/cronjob/**/*.*" />
			<include name="com/bagnet/nettracer/ws/**/*.*"/>
		</javac>
	</target>

	<target name="cron-jar" depends="hibernate_generate_core,compile-core,compile-cron">
		<mkdir dir="${build.dir}/${ant_project_name}/classes/com/bagnet/nettracer/tracing/resources" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/${ant_project_name}/ApplicationResources.properties" />
			<property name="destinationResource" value="${build.dir}/${ant_project_name}/classes/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/${ant_project_name}/tracer.properties" />
			<property name="tertiaryResource" value="${basedir}/companies/${ant_project_name}/environment/${sub_path}tracer.properties"/>
			<property name="destinationResource" value="${build.dir}/${ant_project_name}/classes/tracer.properties" />
		</ant>

		<copy todir="${build.dir}/${ant_project_name}/classes" file="companies/${ant_project_name}/environment/${sub_path}hibernate_main.cfg.xml" overwrite="true" />
		<copy todir="${build.dir}/${ant_project_name}/classes" file="companies/${ant_project_name}/environment/${sub_path}hibernate_dirty.cfg.xml" overwrite="true"/>
		<copy todir="${build.dir}/${ant_project_name}/classes" file="companies/${ant_project_name}/environment/${sub_path}hibernate_reporting.cfg.xml" overwrite="true"/>
		<copy todir="${build.dir}/${ant_project_name}/classes" file="${basedir}/src/hibernate.mappings.xml" />
		<copy todir="${build.dir}/${ant_project_name}/classes" file="${basedir}/src/dozerBeanMapping.xml" />
		
		<copy todir="${build.dir}/${ant_project_name}/classes/com/bagnet/nettracer/cronjob" file="src/com/bagnet/nettracer/cronjob/applicationContext.xml" />
		<copy tofile="${build.dir}/${ant_project_name}/classes/com/bagnet/nettracer/cronjob/cronJobs.xml" file="${cron.job.config.file}" overwrite="true" />
		<copy todir="${build.dir}/${ant_project_name}/classes" file="companies/${ant_project_name}/cron/config/log4j.properties" />
		<jar destfile="${artifact.dir}/${ant_project_name}/${jarprefix}tracer-cron.jar"
			basedir="${build.dir}/${ant_project_name}/classes"
			includes="**/*.class,**/*.xml,**/*.properties">
		</jar>
	</target>

	<target name="cron-service" depends="cron-jar">

		<copy todir="${build.dir}/dist/cron/">
			<fileset dir="${basedir}/companies/${ant_project_name}/environment/${sub_path}cron" />
		</copy>
		<copy todir="${build.dir}/dist/cron/lib">
			<fileset refid="cronjar2" />
			<fileset refid="cronjar3" />
			<fileset dir="${lib.build-client.dir}">
				<include name="dom4j*.jar" />
				<include name="servlet-api.jar" />
			</fileset>

		</copy>
		<copy todir="${build.dir}/dist/cron/lib">
			<fileset dir="${artifact.dir}/${ant_project_name}">
				<include name="${jarprefix}tracer-cron.jar" />
			</fileset>
			<fileset dir="${lib.build-cron.dir}">
				<include name="wrapper.dll" />
			</fileset>
		</copy>
		<copy todir="${staging.dir}/${staging.env}/${staging.project}" file="${artifact.dir}/${ant_project_name}/${jarprefix}tracer-cron.jar"/>
		<zip destfile="${artifact.dir}/${ant_project_name}/zip/${jarprefix}cron-svc.zip">
			<fileset dir="${build.dir}/dist/cron/" />
		</zip>
	</target>
	
	<!-- END CRON UTILITY TARGETS -->
	
	<!-- END CRON TARGETS -->

	<!-- GENERAL AIRLINE BUILD TARGETS -->

	<target name="donotrun-build-ab" if="ab.init.complete">
		<property name="include.ab" value="1" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/ab/environment/${environment.name}/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/ab/environment/${environment.name}/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/report_email.html" />
		<copy todir="${basedir}/src" file="companies/ab/environment/${environment.name}/report_email_fr.html" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/LostDelayReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/DamageReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/ab/environment/${environment.name}/MissingReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/ab/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/ab/pax_comm_email.html" />
		<copy todir="${basedir}/src" file="companies/ab/pax_comm_email_fr.html" />
		<copy todir="${basedir}/src" file="companies/ab/closed_report_email.html" />
		<copy todir="${basedir}/src" file="companies/ab/create_report_email.html" />
			<copy todir="${basedir}/src" file="companies/ab/found_report_email.html" />
			<copy todir="${basedir}/src" file="companies/ab/update_report_email.html" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/ab/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/ab/ApplicationResources_fr.properties" />
		<!--
		<antcall target="build-war" />
		-->
		<antcall target="fast_all" />
		<antcall target="delete" />
		<delete file="${basedir}/src/report_email_fr.html" />
	</target>

	<target name="donotrun-build-lfc" if="lfc.init.complete">
		<property name="include.lfc" value="1" />
		<copy todir="${basedir}/web/pages/login" file="companies/lfc/environment/${environment.name}/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/lfc/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/lfc/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/lfc/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/lfc/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/lfc/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/lfc/pax_comm_email.html" />
		<copy todir="${basedir}/src" file="companies/lfc/pax_comm_email_fr.html" />
		<copy todir="${basedir}/src" file="companies/lfc/closed_report_email.html" />
		<copy todir="${basedir}/src" file="companies/lfc/create_report_email.html" />
			<copy todir="${basedir}/src" file="companies/lfc/found_report_email.html" />
			<copy todir="${basedir}/src" file="companies/lfc/update_report_email.html" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/lfc/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/lfc/ApplicationResources_fr.properties" />
		<!--
		<antcall target="build-war" />
		-->
		<antcall target="fast_all" />
		<antcall target="delete" />
		<delete file="${basedir}/src/report_email_fr.html" />
	</target>
	
	<target name="donotrun-build-alaska" if="alaska.init.complete">
		<property name="include.lfc" value="1" />
		<property name="include.demo" value="1" />
		<copy todir="${basedir}/web/pages/login" file="companies/alaska/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/alaska/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/alaska/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/alaska/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/alaska/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/environment/${environment.name}/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/environment/${environment.name}/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/environment/${environment.name}/MissingReceipt.jrxml" />
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/alaska/custom_ui.properties" />
		<!--<copy todir="${basedir}/src" file="companies/alaska/pax_comm_email.html" />
		<copy todir="${basedir}/src" file="companies/alaska/pax_comm_email_fr.html" />
		<copy todir="${basedir}/src" file="companies/alaska/closed_report_email.html" />
		<copy todir="${basedir}/src" file="companies/alaska/create_report_email.html" />
			<copy todir="${basedir}/src" file="companies/alaska/found_report_email.html" />
			<copy todir="${basedir}/src" file="companies/alaska/update_report_email.html" />-->
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/alaska/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<!--<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/alaska/ApplicationResources_fr.properties" />-->
		<!--
		<antcall target="build-war" />
		-->
		<antcall target="fast_all" />
		<antcall target="delete" />
		<delete file="${basedir}/src/report_email_fr.html" />
	</target>

	<target name="donotrun-build-airtran" depends="delete">
		<property name="include.fl" value="1" />
		<property name="include.demo" value="1" />
		<antcall target="airtran-libraries-create" />
		<copy todir="${basedir}/web/reports" file="companies/airtran/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/airtran/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/airtran/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/airtran/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/airtran/report_email.html" />
		<copy todir="${basedir}/web/pages/login" file="companies/airtran/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/airtran/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/airtran/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/airtran/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/airtran/environment/${environment.name}/hibernate_reporting.cfg.xml" />

		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources_es.properties" />

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/airtran/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
		<antcall target="airtran-libraries-cleanup"/>
	</target>

	<target name="donotrun-build-fraud" if="fraud.init.complete">
		<property name="include.ws" value="1" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/fraud/environment/${environment.name}/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/fraud/environment/${environment.name}/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/report_email.html" />
		<copy todir="${basedir}/src" file="companies/fraud/environment/${environment.name}/report_email_fr.html" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/LostDelayReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/DamageReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/fraud/environment/${environment.name}/MissingReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/fraud/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/fraud/pax_comm_email.html" />
		<copy todir="${basedir}/src" file="companies/fraud/pax_comm_email_fr.html" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/fraud/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/fraud/ApplicationResources_fr.properties" />
		<antcall target="fast_all" />
		<antcall target="delete" />
		<delete file="${basedir}/src/report_email_fr.html" />
	</target>

	<target name="donotrun-build-azul">
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/azul/ApplicationResources_pt.properties" />
		
		<copy todir="${basedir}/src" file="companies/azul/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/azul/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		
		<ant antfile="build-gen.xml" target="combineResourceFiles">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/azul/tracer.properties" />
			<property name="tertiaryResource" value="${basedir}/companies/azul/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<copy todir="${basedir}/web/reports" file="companies/azul/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/azul/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/azul/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>

		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/azul/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/azul/report_email.html" />

		<!-- Hibernate main dependent on environment -->

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/azul/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>

	<target name="donotrun-build-delta">		
		<copy todir="${basedir}/src" file="companies/delta-fs/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/delta-fs/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/delta-fs/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/delta-fs/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/pages/login" file="companies/delta-fs/environment/${environment.name}/login/center.jsp" />
		
		<ant antfile="build-gen.xml" target="combineResourceFiles">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/delta-fs/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/LostDelayReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/DamageReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/MissingReceipt.jrxml" /> -->
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>

		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/delta-fs/custom_ui.properties" />
		<!-- <copy todir="${basedir}/src" file="companies/delta-fs/report_email.html" /> -->

		<!-- Hibernate main dependent on environment -->

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/delta-fs/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>

	<target name="donotrun-build-united">		
		<copy todir="${basedir}/src" file="companies/united-fs/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/united-fs/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/united-fs/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/united-fs/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/pages/login" file="companies/united-fs/environment/${environment.name}/login/center.jsp" />
		
		<ant antfile="build-gen.xml" target="combineResourceFiles">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/united-fs/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/LostDelayReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/DamageReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/MissingReceipt.jrxml" /> -->
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>

		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/united-fs/custom_ui.properties" />
		<!-- <copy todir="${basedir}/src" file="companies/delta-fs/report_email.html" /> -->

		<!-- Hibernate main dependent on environment -->

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/united-fs/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>
	
	<target name="donotrun-build-american">		
		<copy todir="${basedir}/src" file="companies/american-fs/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/american-fs/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/american-fs/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/american-fs/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/pages/login" file="companies/american-fs/environment/${environment.name}/login/center.jsp" />
		
		<ant antfile="build-gen.xml" target="combineResourceFiles">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/american-fs/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/LostDelayReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/DamageReceipt.jrxml" /> -->
		<!-- <copy todir="${basedir}/web/reports" file="companies/delta-fs/MissingReceipt.jrxml" /> -->
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>

		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/american-fs/custom_ui.properties" />
		<!-- <copy todir="${basedir}/src" file="companies/delta-fs/report_email.html" /> -->

		<!-- Hibernate main dependent on environment -->

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/american-fs/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>
	
	<target name="donotrun-build-webjet">		
		<copy todir="${basedir}/src" file="companies/webjet/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/webjet/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/webjet/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/webjet/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/pages/login" file="companies/webjet/environment/${environment.name}/login/center.jsp" />
		
		<ant antfile="build-gen.xml" target="combineResourceFiles">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/webjet/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<copy todir="${basedir}/web/reports" file="companies/webjet/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/webjet/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/webjet/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/webjet/bdo_receipt.jrxml" overwrite="true"/>
			
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/webjet/custom_ui.properties" />

		<!-- Hibernate main dependent on environment -->

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/webjet/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/azul/ApplicationResources_pt.properties" />
			<property name="overrideResource" value="${basedir}/companies/webjet/ApplicationResources_pt.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources_pt.properties" />
		</ant>

		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>

	<target name="donotrun-build-spirit">
		<property name="include.demo" value="1" />
		<copy todir="${basedir}/web/WEB-INF" file="companies/spirit/context.xml" />
		<copy todir="${basedir}/web/reports" file="companies/spirit/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/spirit/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/spirit/MissingReceipt.jrxml" />
		
		<copy todir="${basedir}/src" file="companies/spirit/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/spirit/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/spirit/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/spirit/environment/${environment.name}/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/spirit/environment/${environment.name}/center.jsp" />
		<copy todir="${basedir}/src" file="companies/spirit/environment/${environment.name}/tracer.properties" />

		<!-- Image based on environment -->
		<copy todir="${basedir}/src" file="companies/spirit/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/spirit/report_email.html" />
		<copy todir="${basedir}/web/pages/login" file="companies/tracer/login/center.jsp" />

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/spirit/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/spirit/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/spirit/tracer.properties" />
			<property name="tertiaryResource" value="${basedir}/companies/spirit/environment/${environment.name}/tracer.properties" />
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>

		<antcall target="jasper_compile" />
		<antcall target="fast_all" />
		<antcall target="delete" />
	</target>

	<target name="donotrun-build-jetblue" if="jetblue.init.complete">
		<property name="include.b6" value="1" />
		<property name="include.demo" value="1" />
		<copy todir="${basedir}/web/pages/login" file="companies/jetblue/environment/${environment.name}/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/jetblue/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/jetblue/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/jetblue/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/jetblue/report_email.html" />
		<copy todir="${basedir}/src" file="companies/jetblue/report_email_es.html" />
		<copy todir="${basedir}/src" file="companies/jetblue/custom_ui.properties" />
		<antcall target="custom-ui-env-spec" />
		<copy todir="${basedir}/web/reports" file="companies/jetblue/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/jetblue/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/jetblue/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/jetblue/ApplicationResources_es.properties" />

			

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/jetblue/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>

		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/tracer.properties" />
			<property name="overrideResource" value="${basedir}/companies/jetblue/tracer.properties" />
			<property name="tertiaryResource" value="${basedir}/companies/jetblue/environment/${environment.name}/tracer.properties"/>
			<property name="destinationResource" value="${basedir}/src/tracer.properties" />
		</ant>


			<antcall target="jetblue-libraries-create" />
			<antcall target="jasper_compile" />

		
		<antcall target="fast_all" />
		<antcall target="delete" />
		<antcall target="jetblue-libraries-cleanup" />
		<delete file="${basedir}/src/report_email_es.html" />
	</target>
	
	<target name="donotrun-build-westjet" if="westjet.init.complete">
		<property name="include.ws" value="1" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/westjet/environment/${environment.name}/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/westjet/environment/${environment.name}/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/hibernate_reporting.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/report_email.html" />
		<copy todir="${basedir}/src" file="companies/westjet/environment/${environment.name}/report_email_fr.html" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/MissingReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/LostDelayReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/DamageReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/westjet/environment/${environment.name}/MissingReceipt_fr.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo_receipt.jrxml" overwrite="true"/>
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/westjet/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/westjet/pax_comm_email.html" />
		<copy todir="${basedir}/src" file="companies/westjet/pax_comm_email_fr.html" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/westjet/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/westjet/ApplicationResources_fr.properties" />
		<!--
		<antcall target="build-war" />
		-->
		<antcall target="fast_all" />
		<antcall target="delete" />
		<delete file="${basedir}/src/report_email_fr.html" />
	</target>
	

	<!-- END GENERAL AIRLINE BUILD TARGETS -->

	<!-- CUSTOM LIBRARIES CREATE/CLEANUP BUILD TARGETS -->
	
	<target name="airtran-libraries-create">
		<copy todir="${basedir}/lib/jars" file="${basedir}/lib/client-fl/navitaire_newskies.jar" />
	</target>

	<target name="airtran-libraries-cleanup">
		<delete file="${basedir}/lib/jars/navitaire_newskies" />
	</target>

	<target name="usair-libraries-create">
		<copy todir="${basedir}/lib/jars" file="${basedir}/lib/client-us/us-shares.jar" />
		<copy todir="${basedir}/lib/jars" file="${basedir}/lib/client-us/us-scanhistory.jar" />
	</target>

	<target name="usair-libraries-cleanup">
		<delete file="${basedir}/lib/jars/us-shares.jar" />
		<delete file="${basedir}/lib/jars/us-scanhistory.jar" />
	</target>

	<target name="jetblue-libraries-create">
		<copy todir="${basedir}/lib/jars" file="${basedir}/lib/client-us/us-crmclient.jar" failonerror="false"/>
		
	</target>

	<target name="jetblue-libraries-cleanup">
		<delete file="${basedir}/lib/jars/JetBlueReservation.jar" failonerror="false"/>
		<delete file="${basedir}/lib/jars/ReservationService_1_0-test-client.jar" failonerror="false"/>
	</target>
	
	<!-- END CUSTOM LIBRARY CREATE/CLEANUP BUILD TARGETS -->

	<!-- WSDL BUILD TARGETS -->
	
	<!-- WSDL UTILITY TARGET -->
	
	<target name="wsdl-build-dev" depends="delete">
		<property name="ant_project_name" value="tracer" />
		<property name="ant_war_name" value="tracer" />
		<property name="include.demo" value="1" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/MissingReceipt.jrxml" />
		<antcall target="jasper_compile" />

		<copy todir="${basedir}/src" file="companies/tracer/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/tracer/report_email.html" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources.properties" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources_es.properties" />
		<copy todir="${basedir}/web/pages/login" file="companies/tracer/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/tracer/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/tracer/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/tracer/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/tracer/hibernate_reporting.cfg.xml" />

		<antcall target="fast_all">
			<param name="ant_project_name" value="tracer" />
		</antcall>
		<antcall target="delete" />
	</target>
	
	<!-- END WSDL UTILITY TARGET -->
	
	<!-- core ws build -->
	<target name="ntcoreservice_completeRebuild">
		<antcall target="ntcoreservice_java2wsdl" />
		<antcall target="ntcoreservice_wsdl2java" />
	</target>

	<target name="ntcoreservice_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" className="com.bagnet.nettracer.ws.core.NTCoreService" outputLocation="src/com/bagnet/nettracer/ws/core" outputFileName="NTCoreService.wsdl">
		</Java2WSDLTask>

	</target>

	<target name="ntcoreservice_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/com/bagnet/nettracer/ws/core/NTCoreService.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/core" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		<copy todir="${basedir}/web/WEB-INF/services/NTCoreService/META-INF" file="${build.dir}/webservices/core/resources/services.xml" />

		<!-- copy java files to src -->
		<copy todir="${basedir}/src" overwrite="true">
			<fileset dir="${build.dir}/webservices/core/src">
				<include name="**/**/*.java" />
				<exclude name="**/org/**" />
			</fileset>
		</copy>


		<!-- make jar file for schema -->

		<mkdir dir="${build.dir}/webservices/core/temp" />
		<move todir="${build.dir}/webservices/core/temp">
			<fileset dir="${build.dir}/webservices/core/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</move>

		<jar destfile="${build.dir}/webservices/core/ntwscore_schemas.jar" basedir="${build.dir}/webservices/core/temp">
		</jar>

		<move todir="${basedir}/lib/jars" file="${build.dir}/webservices/core/ntwscore_schemas.jar" />

		<replace file="${basedir}/web/WEB-INF/services/NTCoreService/META-INF/services.xml">
			<replacetoken><![CDATA[com.bagnet.nettracer.ws.core.NTCoreServiceSkeleton]]></replacetoken>
			<replacevalue><![CDATA[com.bagnet.nettracer.ws.core.NTCoreServiceImplementation]]></replacevalue>
		</replace>

		<!-- clean up -->


	</target>
	
	<target name="aaa_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" 
			className="com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsService" 
			outputLocation="src/com/bagnet/nettracer/ws/onlineclaims" outputFileName="Claims.wsdl">
		</Java2WSDLTask>

	</target>
	
	<target name="aaa_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/com/bagnet/nettracer/ws/onlineclaims/Claims.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/claims" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		
		<!--
		<copy todir="${basedir}/web/WEB-INF/services/OnlineClaims/META-INF" file="${build.dir}/webservices/claims/resources/services.xml" />
		-->
		
		<!-- copy java files to src 
		-->
		<copy todir="${basedir}/src">
			<fileset dir="${build.dir}/webservices/claims/src">
				<include name="**/**/*.java" />
				<exclude name="**/org/**" />
			</fileset>
		</copy>
		<!--

		 make jar file for schema
		
		<mkdir dir="${build.dir}/webservices/claims/temp" />
		<move todir="${build.dir}/webservices/claims/temp">
			<fileset dir="${build.dir}/webservices/claims/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</move>

		
		<jar destfile="${build.dir}/webservices/claims/onlineclaims_schemas.jar" basedir="${build.dir}/webservices/claims/temp">
		</jar>

		<move todir="${basedir}/lib/jars" file="${build.dir}/webservices/claims/onlineclaims_schemas.jar" />
		
		<replace file="${basedir}/web/WEB-INF/services/OnlineClaims/META-INF/services.xml">
			<replacetoken><![CDATA[com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsServiceSkeleton]]></replacetoken>
			<replacevalue><![CDATA[com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsServiceImplementation]]></replacevalue>
		</replace>-->
		

		<!-- clean up -->
		
		<!--<delete dir="${build.dir}/webservices/claims" />-->
	</target>

	<!-- passenger view ws 1.1-->
	<target name="passengerview_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" 
			className="com.bagnet.nettracer.ws.v1_1.PaxView" 
			outputLocation="src/com/bagnet/nettracer/ws/v1_1" outputFileName="PaxView.wsdl">
		</Java2WSDLTask>

	</target>
	
	<target name="passengerview_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/com/bagnet/nettracer/ws/v1_1/PaxView.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/passengerview" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		<!--
		<copy todir="${basedir}/web/WEB-INF/services/PaxView/META-INF" file="${build.dir}/webservices/passengerview/resources/services.xml" />
		-->
		<!-- copy java files to src 
		
		<copy todir="${basedir}/src">
			<fileset dir="${build.dir}/webservices/passengerview/src">
				<include name="**/**/*.java" />
				<exclude name="**/org/**" />
			</fileset>
		</copy>
		-->

		<!-- make jar file for schema -->
		<!--
		<mkdir dir="${build.dir}/webservices/passengerview/temp" />
		<move todir="${build.dir}/webservices/passengerview/temp">
			<fileset dir="${build.dir}/webservices/passengerview/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</move>

		
		<jar destfile="${build.dir}/webservices/passengerview/paxview_1_1_schemas.jar" basedir="${build.dir}/webservices/passengerview/temp">
		</jar>

		<move todir="${basedir}/lib/jars" file="${build.dir}/webservices/passengerview/paxview_1_1_schemas.jar" />
		
		<replace file="${basedir}/web/WEB-INF/services/NTPassengerViewService/META-INF/services.xml">
			<replacetoken><![CDATA[com.bagnet.nettracer.ws.passengerview.NTPassengerViewServiceSkeleton]]></replacetoken>
			<replacevalue><![CDATA[com.bagnet.nettracer.ws.passengerview.NTPassengerViewServiceImplementation]]></replacevalue>
		</replace>
		-->

		<!-- clean up -->
		<!--
		<delete dir="${build.dir}/webservices/passengerview/temp" />
		<delete dir="${build.dir}/webservices/passengerview/resources" />
		<delete dir="${build.dir}/webservices/passengerview/src" />
		-->
	</target>

	<target name="oc_completeRebuild">
		<antcall target="oc_java2wsdl" />
		<antcall target="oc_wsdl2java" />
	</target>

	<target name="oc_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" className="com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsService" outputLocation="src/com/bagnet/nettracer/ws/onlineclaims" outputFileName="Claims.wsdl">
		</Java2WSDLTask>

	</target>

	<target name="oc_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/com/bagnet/nettracer/ws/onlineclaims/Claims.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/onlineclaims" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		<copy todir="${basedir}/web/WEB-INF/services/OnlineClaims/META-INF" file="${build.dir}/webservices/onlineclaims/resources/services.xml" />

		<!-- copy java files to src -->
		<copy todir="${basedir}/src" overwrite="true">
			<fileset dir="${build.dir}/webservices/onlineclaims/src">
				<include name="**/**/*.java" />
				<exclude name="**/org/**" />
			</fileset>
		</copy>


		<!-- make jar file for schema -->

		<mkdir dir="${build.dir}/webservices/onlineclaims/temp" />
		<copy todir="${build.dir}/webservices/onlineclaims/temp">
			<fileset dir="${build.dir}/webservices/onlineclaims/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</copy>

		<jar destfile="${build.dir}/webservices/onlineclaims/onlineclaims_schemas.jar" basedir="${build.dir}/webservices/onlineclaims/temp"> 
		</jar>

		<move todir="${basedir}/lib/jars" file="${build.dir}/webservices/onlineclaims/onlineclaims_schemas.jar" />

		<replace file="${basedir}/web/WEB-INF/services/OnlineClaims/META-INF/services.xml">
			<replacetoken><![CDATA[com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsServiceSkeleton]]></replacetoken>
			<replacevalue><![CDATA[com.bagnet.nettracer.ws.onlineclaims.OnlineClaimsServiceImplementation]]></replacevalue>
		</replace>

		<!-- clean up -->

	</target>
	
	<target name="1a_fsService_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" 
			className="aero.nettracer.fs.service.SimpleService" 
			outputLocation="src/aero/nettracer/fs/service" outputFileName="SimpleService.wsdl">
		</Java2WSDLTask>

	</target>
	
	<target name="1a_fsService_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/aero/nettracer/fs/service/SimpleService.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/fs" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		
		<copy todir="${basedir}/web/WEB-INF/services/fs/META-INF" file="${build.dir}/webservices/fs/resources/services.xml" />
		
		<mkdir dir="${build.dir}/webservices/fs/temp" />
		<move todir="${build.dir}/webservices/fs/temp">
			<fileset dir="${build.dir}/webservices/fs/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</move>
	</target>
	
	<!-- END WSDL BUILD TARGETS -->
	
	<!-- UNUSED TARGETS -->

	<!-- UNUSED GROUP
	<target name="package-app" depends="package-web">
		<ear destfile="${build.dir}/dist/app/${ant_project_name}.ear" appxml="${basedir}/companies/${ant_project_name}/application.xml">
			<fileset dir="${build.dir}/dist/web">
				<include name="${ant_project_name}.war" />
			</fileset>
		</ear>

		<copy todir="${app.deploy.dir.jb5}">
			<fileset dir="${build.dir}/dist/app">
				<include name="${ant_project_name}.ear" />
			</fileset>
		</copy>
	</target>

	<target name="package-web" depends="resources">
		<tstamp>
			<format property="VERSION" pattern="yyyyMMdd-HHmm " locale="en" />
		</tstamp>

		<war destfile="${build.dir}/dist/web/${ant_project_name}.war" webxml="${basedir}/web/WEB-INF/web.xml">
			<fileset dir="${basedir}/web">
				<exclude name="**/web.xml" />
			</fileset>
			<classes dir="${build.dir}/${ant_project_name}_web/classes" />
			<lib dir="${lib.jar.dir}">
				<exclude name="log4j*.*" />
			</lib>
		</war>
	</target>
	
	<target name="resources">

		<copy todir="${build.dir}/${ant_project_name}_web/classes" includeEmptyDirs="no">
			<fileset dir="src">
				<patternset>
					<include name="**/*.conf" />
					<include name="**/*.properties" />
					<include name="**/*.xml" />
					<include name="**/*.html" />
				</patternset>
			</fileset>
		</copy>
	</target>
	END UNUSED GROUP -->

	<!-- UNUSED
	<target name="deploy-local-app" depends="all">
		<copy todir="${app.deploy.dir.jb5}">
			<fileset dir="${build.dir}/dist/web">
				<include name="*.war" />
			</fileset>
		</copy>
	</target>
	END UNUSED -->

	<!-- UNUSED
	<target name="simplifyAll">
		<antcall target="simplifyResourceFiles">
			<param name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<param name="overrideResource" value="${basedir}/companies/airtran/ApplicationResources.properties" />
			<param name="destinationResource" value="${basedir}/companies/airtran/NewAirtranApplicationResources.properties" />
		</antcall>

		<antcall target="simplifyResourceFiles">
			<param name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<param name="overrideResource" value="${basedir}/companies/xjet/ApplicationResources.properties" />
			<param name="destinationResource" value="${basedir}/companies/xjet/NewXjetApplicationResources.properties" />
		</antcall>

		<antcall target="simplifyResourceFiles">
			<param name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<param name="overrideResource" value="${basedir}/companies/jetblue/ApplicationResources.properties" />
			<param name="destinationResource" value="${basedir}/companies/jetblue/NewJetblueApplicationResources.properties" />
		</antcall>

		<antcall target="simplifyResourceFiles">
			<param name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<param name="overrideResource" value="${basedir}/companies/spirit/ApplicationResources.properties" />
			<param name="destinationResource" value="${basedir}/companies/spirit/NewSpiritApplicationResources.properties" />
		</antcall>
	</target>

	<target name="simplifyResourceFiles">
		<java classname="SimplifyResources" classpath="${basedir}/utils">
			<arg line="${defaultResource} ${overrideResource} ${destinationResource}" />
		</java>
	</target>
	END UNUSED -->

	<!-- UNUSED
	<target name="build-core-jar" depends="hibernate_generate_core, compile-core">
		<jar destfile="${artifact.dir}/${ant_project_name}/tracer-core.jar"
			basedir="${build.dir}/${ant_project_name}/classes"
			includes="**/*.class,**/*.xml" />
	</target>
	END UNUSED -->

	<!-- UNUSED GROUP	
	<target name="compile-gensrc" depends="init,gen-src">
		<javac srcdir="${build.gen-src.dir}/${ant_project_name}_app" fork="true" destdir="${build.dir}/${ant_project_name}_app/classes" debug="on" sourcepath="${basedir}/ejbsrc:${basedir}/src">
			<classpath>
				<path refid="project.classpath" />
			</classpath>
		</javac>
		<javac srcdir="${build.gen-src.dir}/${ant_project_name}_app" fork="true" destdir="${build.gen-src.dir}/${ant_project_name}_app/classes" debug="on" sourcepath="${basedir}/ejbsrc:${basedir}/src">
			<classpath>
				<pathelement location="${root.dir}/tmp/${ant_project_name}_app/classes" />
				<path refid="project.classpath" />
			</classpath>
		</javac>
	</target>

	<target name="gen-src" depends="init">
		<antcall target="gen-ejb" />
	</target>

	<target name="gen-ejb" depends="init">
		<taskdef name="ejbdoclet" classname="xdoclet.modules.ejb.EjbDocletTask">
			<classpath refid="project.classpath" />
		</taskdef>

		<ejbdoclet destdir="${build.gen-src.dir}/${ant_project_name}_app" excludedtags="@version,@author,@todo" ejbspec="2.0" force="false" verbose="false">
			<fileset dir="${basedir}/ejbsrc">
				<include name="**/*.java" />
			</fileset>

			<remoteinterface />
			<localinterface />
			<homeinterface />
			<localhomeinterface />

			<dataobject />
			<valueobject />

			<entitypk />

			<entitycmp />
			<entitybmp />

			<session />

			<deploymentdescriptor destdir="${build.dir}/gen/gen-conf/${ant_project_name}_app/META-INF" validatexml="true" mergedir="${build.dir}/gen/gen-conf/${ant_project_name}_app/META-INF" description="deployment">
			</deploymentdescriptor>

			<jboss version="3.2" unauthenticatedPrincipal="nobody" xmlencoding="UTF-8" destdir="${build.dir}/gen/gen-conf/${ant_project_name}_app/META-INF" validatexml="true" preferredrelationmapping="relation-table" />
		</ejbdoclet>
	</target>
	END UNUSED GROUP -->

	<!-- UNUSED
	<target name="build-war" depends="resources2">
		
		<tstamp>
			<format property="VERSION" pattern="yyyyMMdd-HHmm " locale="en" />
		</tstamp>

		<delete dir="${build.dir}/${ant_project_name}/webWorking" failonerror="false" includeemptydirs="true" />
			
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/companies/${ant_project_name}/web">
			</fileset>
		</copy>
		
		<copy todir="${build.dir}/${ant_project_name}/webWorking" overwrite="false" includeemptydirs="true">
			<fileset dir="${basedir}/web">
				<exclude name="pages/WebHelp/*.*" />
				<exclude name="deployment/main/images/iconmenu/*.*" />
				<exclude name="**/web.xml" />
				<exclude name="WEB-INF/classes/**/*.*" />
			</fileset>
		</copy>
		<echo>HERE</echo>
		<replaceregexp match="\s+" replace=" " flags="g" byline="false">
			<fileset dir="${build.dir}/${ant_project_name}/webWorking" includes="**/*.jsp" />
		</replaceregexp>
		
		
		<war destfile="${build.dir}/dist/web/${ant_war_name}.war" webxml="${basedir}/web/WEB-INF/web.xml" duplicate="preserve">
			<fileset dir="${build.dir}/${ant_project_name}/webWorking" />
			<classes dir="${build.dir}/${ant_project_name}_web/classes" />
			<lib dir="${lib.jar.dir}">
				<include name="sqljdbc.jar"/>
			</lib>
		</war>		
	</target>
	END UNUSED -->

	<!-- UNUSED
	<target name="jar-gensrc">
		<jar destfile="${build.dir}/tracerfiles.jar">
			<fileset dir="${build.dir}/tracer_web/classes" />
		</jar>
	</target>
	END UNUSED -->

	<!-- UNUSED
	<target name="build-ear">
		<antcall target="build-westjet-local"/>
		
		<copy todir="${build.dir}/dist/web/lib" >
			<fileset dir="${lib.jar.dir}"/>
		</copy>
		
		  <jar destfile="${build.dir}/dist/web/tplib.jar"
		       basedir="${build.dir}/dist/web/lib"
		       includes="*.jar"
		  	   excludes="log4j*.*,servlet.jar,sqljdbc.jar"
	/>
		
		<ear destfile="${build.dir}/tracer.ear" appxml="${basedir}/metadata/application.xml">
			<fileset dir="${build.dir}/dist/web" includes="tplib.jar,*.war"/>
			<zipfileset dir="${basedir}/metadata" prefix="META-INF">
			  <include name="jboss-app.xml"/>
			</zipfileset>

		</ear>
		
		<copy todir="${app.deploy.dir.jb5}" overwrite="true">
			<fileset dir="${build.dir}">
				<include name="tracer.ear" />
			</fileset>
		</copy>
	</target>
	END UNUSED -->

    <!-- UNUSED GROUP
	<target name="build-alaska-demo" depends="delete">
		<property name="ant_project_name" value="alaska" />
		<property name="ant_war_name" value="alaska" />
		<property name="include.demo" value="1" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/alaska/MissingReceipt.jrxml" />
		<antcall target="jasper_compile" />
		<copy todir="${basedir}/src" file="companies/alaska/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/alaska/report_email.html" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<property name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<property name="overrideResource" value="${basedir}/companies/alaska/ApplicationResources.properties" />
			<property name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/alaska/ApplicationResources_es.properties" />
		<copy todir="${basedir}/web/pages/login" file="companies/alaska/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/alaska/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/alaska/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/alaska/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/alaska/hibernate_reporting.cfg.xml" />
		<antcall target="fast_all">
			<param name="ant_project_name" value="alaska" />
		</antcall>
		<antcall target="delete" />
	</target>

	<target name="build-xjet" depends="delete">
		<copy todir="${basedir}/web/reports" file="companies/xjet/LostDelayReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/xjet/DamageReceipt.jrxml" />
		<copy todir="${basedir}/web/reports" file="companies/xjet/MissingReceipt.jrxml" />
		<antcall target="jasper_compile" />
		<copy todir="${basedir}/src" file="companies/xjet/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/xjet/report_email.html" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources_es.properties" />
		<copy todir="${basedir}/web/pages/login" file="companies/xjet/login/center.jsp" />
		<copy todir="${basedir}/src" file="companies/xjet/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/xjet/hibernate_main.cfg.xml" />
		<ant target="combineResourceFiles" antfile="build-gen.xml">
			<param name="defaultResource" value="${basedir}/companies/tracer/ApplicationResources.properties" />
			<param name="overrideResource" value="${basedir}/companies/xjet/ApplicationResources.properties" />
			<param name="destinationResource" value="${basedir}/src/com/bagnet/nettracer/tracing/resources/ApplicationResources.properties" />
		</ant>
		<antcall target="fast_all">
			<param name="ant_project_name" value="tracer" />
		</antcall>
		<antcall target="delete" />
	</target>

	<target name="build-azul-qa" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul-qa" />
		<property name="environment" value="qa" />
		<property name="environment" value="training" />
		<antcall target="donotrun-build-azul" />
	</target>

	<target name="build-azul-training" depends="delete">
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul-training" />
		<copy todir="${basedir}/src" file="companies/azul/environment/training/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/azul/environment/training/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/training/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/training/hibernate_reporting.cfg.xml" />
		<property name="environment" value="training" />
		<antcall target="donotrun-build-azul" />
	</target>

	<target name="build-azul-prod" depends="delete">
		<antcall target="hibernate_generate" />
		<property name="ant_project_name" value="azul" />
		<property name="ant_war_name" value="azul-prod" />
		<property name="environment" value="production" />
		<copy todir="${basedir}/src" file="companies/azul/environment/production/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/azul/environment/production/hibernate_main.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/production/hibernate_dirty.cfg.xml" />
		<copy todir="${basedir}/src" file="companies/azul/environment/production/hibernate_reporting.cfg.xml" />
		<antcall target="donotrun-build-azul" />
	</target>

	<target name="build-spirit-dev" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit-dev" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/spirit/environment/production/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/spirit/environment/production/center.jsp" />
		<copy todir="${basedir}/src" file="companies/spirit/environment/production/tracer.properties" />
		<antcall target="donotrun-build-spirit" />
	</target>

	<target name="build-spirit-qa" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit-qa" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/spirit/environment/spiritqa/header_bg_noconf.gif" />
		<copy todir="${basedir}/web/pages/login" file="companies/spirit/environment/spiritqa/center.jsp" />
		<copy todir="${basedir}/src" file="companies/spirit/environment/spiritqa/tracer.properties" />		
		<antcall target="donotrun-build-spirit" />
	</target>

	<target name="build-spirit-prod" depends="delete">
		<property name="ant_project_name" value="spirit" />
		<property name="ant_war_name" value="spirit-prod" />		
		<antcall target="donotrun-build-spirit" />
	</target>

	<target name="build-jetblue-all">
		<antcall target="build-jetblue-qa" />
		<antcall target="build-jetblue-training" />
		<antcall target="build-jetblue-prod" />
	</target>

	<target name="build-jetblue-dev" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="include.demo" value="1" />
		<property name="include.us" value="1" />
		<property name="ant_war_name" value="b6dev" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="dev"/>
		<antcall target="donotrun-build-jetblue" />
	</target>
	
	<target name="build-jetblue-qa-sabre" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="b6qa-sabre" />
		<property name="jetblue.init.complete" value="true" />
		<property name="environment.name" value="qa-sabre"/>
		<antcall target="donotrun-build-jetblue" />
	</target>

	<target name="build-jetblue-training" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="b6training" />
		<property name="environment.name" value="training"/>
		<property name="jetblue.init.complete" value="true" />
		<antcall target="donotrun-build-jetblue" />
	</target>

	<target name="build-jetblue-prod" depends="delete">
		<property name="ant_project_name" value="jetblue" />
		<property name="ant_war_name" value="b6prod" />
		<property name="environment.name" value="prod"/>
		<property name="jetblue.init.complete" value="true" />
		<antcall target="donotrun-build-jetblue" />
	</target>

	<target name="build-westjet-all">
		<antcall target="build-westjet-test" />
		<antcall target="build-westjet-qa" />
		<antcall target="build-westjet-prod" />
	</target>
	
	<target name="build-westjet-qa" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="wjqa" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="qa" />
		<antcall target="donotrun-build-westjet" />
	</target>

	<target name="build-westjet-prod" depends="delete">
		<property name="ant_project_name" value="westjet" />
		<property name="ant_war_name" value="wjprod" />
		<property name="westjet.init.complete" value="true" />
		<property name="environment.name" value="prod" />
		<antcall target="donotrun-build-westjet" />
	</target>

	<target name="build-southwest" depends="delete">
		<copy todir="${basedir}/web/reports" file="companies/tracer/LostDelayReceipt.jrxml" />
		<antcall target="jasper_compile" />
		<copy todir="${basedir}/web/deployment/main/css" file="companies/southwest/nettracerstyles1.css" />
		<copy todir="${basedir}/web/deployment/main/css" file="companies/southwest/formstyles.css" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/southwest/header_bg.gif" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/southwest/header_bg_noconf.gif" />
		<copy todir="${basedir}/src" file="companies/southwest/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/southwest/report_email.html" />
		<copy todir="${basedir}/web/reports" file="companies/southwest/receipt/logo.jpg" />
		<copy todir="${basedir}/web/reports" file="companies/southwest/bdo/bdologo.gif" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources.properties" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources_es.properties" />
		<copy todir="${basedir}/web/pages/login" file="companies/tracer/login/center.jsp" />
		<copy todir="${basedir}/web/pages/passengerview" file="companies/tracer/passengerview/passengerview.jsp" />
		<copy todir="${basedir}/web/pages/includes" file="companies/tracer/includes/required_fields_incl.jsp" />
		<copy todir="${basedir}/web/pages/includes" file="companies/tracer/includes/analytics.jsp" />
		<copy todir="${basedir}/src" file="companies/tracer/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/tracer/hibernate_main.cfg.xml" />
		<antcall target="fast_all">
			<param name="ant_project_name" value="tracer" />
		</antcall>
		<antcall target="delete" />
	</target>

	<target name="build-virginamerica" depends="delete">
		<copy todir="${basedir}/web/reports" file="companies/tracer/LostDelayReceipt.jrxml" />
		<antcall target="jasper_compile" />
		<copy todir="${basedir}/web/deployment/main/css" file="companies/virginamerica/nettracerstyles1.css" />
		<copy todir="${basedir}/web/deployment/main/css" file="companies/virginamerica/formstyles.css" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/virginamerica/header_bg.gif" />
		<copy todir="${basedir}/web/deployment/main/images/nettracer" file="companies/virginamerica/header_bg_noconf.gif" />
		<copy todir="${basedir}/src" file="companies/virginamerica/custom_ui.properties" />
		<copy todir="${basedir}/src" file="companies/virginamerica/report_email.html" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/receipt/logo.jpg" />
		<copy todir="${basedir}/web/reports" file="companies/tracer/bdo/bdologo.gif" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources.properties" />
		<copy todir="${basedir}/src/com/bagnet/nettracer/tracing/resources" file="companies/tracer/ApplicationResources_es.properties" />
		<copy todir="${basedir}/web/pages/login" file="companies/tracer/login/center.jsp" />
		<copy todir="${basedir}/web/pages/passengerview" file="companies/tracer/passengerview/passengerview.jsp" />
		<copy todir="${basedir}/web/pages/includes" file="companies/tracer/includes/required_fields_incl.jsp" />
		<copy todir="${basedir}/web/pages/includes" file="companies/tracer/includes/analytics.jsp" />
		<copy todir="${basedir}/src" file="companies/tracer/tracer.properties" />
		<copy todir="${basedir}/src" file="companies/tracer/hibernate_main.cfg.xml" />
		<antcall target="fast_all">
			<param name="ant_project_name" value="tracer" />
		</antcall>
		<antcall target="delete" />
	</target>
	END UNUSED GROUP -->
	
	<!-- UNUSED
	<target name="run.jameleon.gui" description="Runs the GUI">
		<java classname="net.sf.jameleon.ui.JameleonUI" classpathref="classpath" />
	</target>
	END UNUSED -->

	<!-- UNUSED GROUP
	<target name="run_local_tests" depends="prepare">
		<antcall target="execute.testcases">
			<param name="url" value="localhost" />
		</antcall>
	</target>

	<target name="run_nwa_tests" depends="prepare">
		<antcall target="execute.testcases">
			<param name="url" value="nwa" />
		</antcall>
	</target>

	<target name="prepare" depends="build2, copyRes, register.functions" />

	<target name="execute.testcases" description="Executes a series of test cases">
		<taskdef name="jmln-test" classname="net.sf.jameleon.ant.ExecuteTestCaseTask" classpathref="classpath" />
		<jmln-test>
			<fileset dir="scripts">
				<include name="${url}/*.xml" />
			</fileset>
		</jmln-test>
	</target>

	<target name="register.functions" description="Register function points in the tst/src directory.">
		<taskdef name="jmln-register" classname="net.sf.jameleon.ant.JameleonXDoclet" classpathref="classpath" />
		<jmln-register outputdir="build">
			<fileset dir="jameleon_src/java">
				<include name="**/*.java" />
			</fileset>
		</jmln-register>
	</target>

	<target name="init2" description="creates the needed directories">
		<mkdir dir="build" />
		<tstamp />
	</target>

	<target name="build2" depends="init2" description="This should not be called independently.">
		<javac srcdir="jameleon_src/java" destdir="build" debug="on" deprecation="on" optimize="on" classpathref="classpath" />
	</target>

	<target name="copyRes">
		<copy todir="build">
			<fileset dir="res">
				<include name="**/**" />
			</fileset>
		</copy>
	</target>
	END UNUSED GROUP -->

	<!-- UNUSED
	<target name="passivetracerbuild">

		<antcall target="clean" />
		<antcall target="hibernate_generate" />
		<antcall target="build-dev" />

		<mkdir dir="${build.dir}/passivetracer/src" />

		<copy todir="${build.dir}/passivetracer/src">
			<fileset dir="${build.dir}/${ant_project_name}_web/classes">
				<include name="**/**/**/cronjob/tracing/*.class" />
				<include name="**/**/**/email/*.class" />
				<include name="**/**/**/hibernate/*.class" />
				<include name="**/**/**/logging/*.class" />
				<include name="**/**/**/match/*.class" />
				<include name="**/**/**/tracing/db/*.class" />
				<include name="**/**/**/tracing/db/*.xml" />
				<include name="**/**/**/tracing/resources/*.properties" />
				<include name="**/**/**/tracing/utils/*.class" />
				<include name="**/**/**/tracing/bmo/*.class" />
			</fileset>
		</copy>

		<jar destfile="${build.dir}/passivetracer/passivetracer.jar" basedir="${build.dir}/passivetracer/src">
		</jar>
	</target>
	END UNUSED -->

	<!-- UNUSED
	<target name="test">
		<antcall target="clean" />
		<antcall target="hibernate_generate" />
		<antcall target="build-dev" />
		<mkdir dir="${build.dir}/Test/src" />
		<copy todir="${build.dir}/Test/src">
			<fileset dir="${build.dir}/${ant_project_name}_web/classes">

			</fileset>
		</copy>
		<jar destfile="${build.dir}/Test/Test.jar" basedir="${build.dir}/Test/src">
			<manifest>
				<attribute name="Main-Class" value="${main-class}" />
			</manifest>
		</jar>
	</target>
	END UNUSED -->
	
	<!-- END UNUSED TARGETS -->
	
	<path id="classpath.test">
		<pathelement location="${build.dir}/lfc_web/classes" />
		<fileset dir="lib">
			<patternset refid="jar.files" />
		</fileset>
	</path>	
	
  	<target name="test-local-lfc-services" depends="build-ear-local-lfc-service">
		<javac srcdir="./autotest" fork="true" destdir="${build.dir}/lfc_web/classes" debug="on" memoryinitialsize="256m" >
			<classpath refid="project.classpath" />
			<exclude name="com/bagnet/nettracer/cronjob/**" />
			<exclude name="com/bagnet/clients/airtran/**" unless="include.fl" />
			<exclude name="com/bagnet/clients/us/**" unless="include.us" />
			<exclude name="com/bagnet/clients/demo/**" unless="include.demo" />
			<exclude name="com/bagnet/clients/ws/**" unless="include.ws" />
			<exclude name="com/bagnet/clients/b6/**" unless="include.b6" />
		</javac>
  		
    	<junit printsummary="yes" showoutput="true" >
      		<classpath refid="classpath.test" />
      		<formatter type="xml" usefile="true" />
      		<test name="aero.nettracer.lf.services.LFServiceBeanTest" />
    	</junit>
  		
  	   	<junit printsummary="yes" showoutput="true" >
  	      		<classpath refid="classpath.test" />
  	      		<formatter type="xml" usefile="true" />
  	      		<test name="com.bagnet.nettracer.tracing.utils.general.LoggerTest" />
  	    	</junit>
  		
  	   	<junit printsummary="yes" showoutput="true" >
  	      		<classpath refid="classpath.test" />
  	      		<formatter type="xml" usefile="true" />
  	      		<test name="com.bagnet.nettracer.tracing.utils.SecurityUtilsTest" />
  	    	</junit>
    	
  </target>
	
  	<target name="test-hudson-lfc-services" depends="build-ear-hudson-lfc-service">
		<javac srcdir="./autotest" fork="true" destdir="${build.dir}/lfc_web/classes" debug="on" memoryinitialsize="256m" >
			<classpath refid="project.classpath" />
			<exclude name="com/bagnet/nettracer/cronjob/**" />
			<exclude name="com/bagnet/clients/airtran/**" unless="include.fl" />
			<exclude name="com/bagnet/clients/us/**" unless="include.us" />
			<exclude name="com/bagnet/clients/demo/**" unless="include.demo" />
			<exclude name="com/bagnet/clients/ws/**" unless="include.ws" />
			<exclude name="com/bagnet/clients/b6/**" unless="include.b6" />
		</javac>
  		
    	<junit printsummary="yes" showoutput="true" >
      		<classpath refid="classpath.test" />
      		<formatter type="xml" usefile="true" />
      		<test name="aero.nettracer.lf.services.LFServiceBeanTest" />
    	</junit>
  		
    	<junit printsummary="yes" showoutput="true" >
      		<classpath refid="classpath.test" />
      		<formatter type="xml" usefile="true" />
      		<test name="com.bagnet.nettracer.tracing.utils.general.LoggerTest" />
    	</junit>
 	   	<junit printsummary="yes" showoutput="true" >
  	      		<classpath refid="classpath.test" />
  	      		<formatter type="xml" usefile="true" />
  	      		<test name="com.bagnet.nettracer.tracing.utils.SecurityUtilsTest" />
  	    	</junit>
  		
  </target>


	<target name="scannerMbrQueryService_java2wsdl" depends="wsdl-build-dev">
		<taskdef name="Java2WSDLTask" classname="org.apache.ws.java2wsdl.Java2WSDLTask" classpathref="${axis2.classpath}" />

		<Java2WSDLTask classPath="${build.dir}/${ant_project_name}_web/classes" className="com.bagnet.nettracer.ws.search.ScannerMbrQueryService" outputLocation="src/com/bagnet/nettracer/ws/search" outputFileName="ScannerMbrQueryService.wsdl">
		</Java2WSDLTask>

	</target>

	<target name="scannerMbrQuery_wsdl2java">
		<java classname="org.apache.axis2.wsdl.WSDL2Java" fork="true" classpathref="${axis2.classpath}">
			<arg value="-uri" />
			<arg file="src/com/bagnet/nettracer/ws/search/ScannerMbrQueryService.wsdl" />

			<arg value="-o" />
			<arg file="${build.dir}/webservices/search" />

			<arg value="-ss" />
			<arg value="-sd" />
			<arg value="-g" />

			<arg value="-d" />
			<arg value="xmlbeans" />

		</java>

		<!-- copy services.xml to web-inf -->
		<copy todir="${basedir}/web/WEB-INF/services/ScannerMbrQueryService/META-INF" file="${build.dir}/webservices/search/resources/services.xml" />

		<!-- copy java files to src -->
		<!-- 
		<copy todir="${basedir}/src" overwrite="true">
			<fileset dir="${build.dir}/webservices/search/src">
				<include name="**/**/*.java" />
				<exclude name="**/org/**" />
			</fileset>
		</copy>


		

		<mkdir dir="${build.dir}/webservices/search/temp" />
		<move todir="${build.dir}/webservices/search/temp">
			<fileset dir="${build.dir}/webservices/search/resources">
				<include name="*schema*/**/*.class" />
				<include name="*schema*/**/*.xsb" />
			</fileset>
		</move>

		<jar destfile="${build.dir}/webservices/core/ntwscore_schemas.jar" basedir="${build.dir}/webservices/core/temp">
		</jar>

		<move todir="${basedir}/lib/jars" file="${build.dir}/webservices/core/ntwscore_schemas.jar" />

		<replace file="${basedir}/web/WEB-INF/services/NTCoreService/META-INF/services.xml">
			<replacetoken><![CDATA[com.bagnet.nettracer.ws.core.NTCoreServiceSkeleton]]></replacetoken>
			<replacevalue><![CDATA[com.bagnet.nettracer.ws.core.NTCoreServiceImplementation]]></replacevalue>
		</replace>
 -->
		<!-- clean up -->


	</target>
	
</project>
