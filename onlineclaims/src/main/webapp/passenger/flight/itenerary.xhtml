<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk">



	<div><t:outputText
		value="#{passengerController.flightLabel.aboutYourItenerary}"
		styleClass="subHeader" /></div>
	<div><h:outputText value="&#160;" /></div>
	<a4j:region  renderRegionOnly="true">	
	<a4j:outputPanel ajaxRendered="true" id="flightCode">
		<rich:dataTable id="iteneraryTicketTableItenerary" var="item"
			headerClass="TableHeader" columnsWidth="7%,7%,7%,7%,13%"
			value="#{passengerController.itineraryList}" border="0" width="90%"
			rowKeyVar="rowIndex">

			<f:facet name="header">
				<rich:columnGroup>
					<rich:column colspan="2">
						<h:outputText value="From/ To Airports" />
					</rich:column>
					<rich:column colspan="2">
						<h:outputText value="Airline/ Flight Number" />
					</rich:column>
					<rich:column>
						<h:outputText value="Date" />
					</rich:column>

				</rich:columnGroup>
			</f:facet>


			<rich:column>
				<h:panelGrid columns="2">
				<a4j:region  renderRegionOnly="true">	
					<h:inputText value="#{item.departureCity}" size="7" id="departure#{rowIndex+1}"
						label="DepartureCity Row#{rowIndex+1}" readonly="true"/>
					<h:panelGroup>
						<a4j:commandLink value="" immediate="true" id="flightImageLink">

							<rich:componentControl for="flightModalPanel"
								attachTo="flightImageLink" operation="show" event="onclick" />

							<a4j:actionparam name="itineraryTableIndex"
								assignTo="#{passengerController.itineraryTableIndex}"
								value="#{rowIndex}" />

							<h:graphicImage url="../_images/flightlist.gif"
								alt="List of Flights" height="20" width="20" id="flightImage"
								styleClass="helpButton" />

						</a4j:commandLink>
					</h:panelGroup>
					</a4j:region>
				</h:panelGrid>
			</rich:column>


			<rich:column>
				<h:panelGrid columns="2">
					<t:inputText value="#{item.arrivalCity}" size="7" id="arrival#{rowIndex+1}"
						label="ArrivalCity Row#{rowIndex+1}" disabledOnClientSide="true" 
						required="#{item.departureCity ne null ? true : false}"/>
					<h:panelGroup>
						<a4j:commandLink value="" immediate="true" id="flightImageLink2">

							<rich:componentControl for="#{passengerController.modalPanel}"
								attachTo="flightImageLink2" operation="show" event="onclick" />

							<a4j:actionparam name="itineraryTableIndex2"
								assignTo="#{passengerController.itineraryTableIndex}"
								value="#{rowIndex}" />

							<h:graphicImage url="../_images/flightlist.gif"
								alt="List of Flights" height="20" width="20" id="flightImage2"
								styleClass="helpButton" />

						</a4j:commandLink>
					</h:panelGroup>
				</h:panelGrid>
			</rich:column>

			<rich:column>
				<h:panelGrid columns="2">
					<h:inputText value="#{item.airline}" size="7" id="airline#{rowIndex+1}"
						required="#{item.departureCity ne null ? true : false}"
						label="Airline Row#{rowIndex+1}" />
					<h:outputText value="/" />
				</h:panelGrid>
			</rich:column>

			<rich:column>
				<t:inputText value="#{item.flightNum}"  size="7" id="flightNum#{rowIndex+1}"
						required="#{item.departureCity ne null ? true : false}"
						label="FlightNumber Row#{rowIndex+1}">
					<f:validateLength maximum="5"/>
				</t:inputText>
			</rich:column>

			<rich:column width="20">
			<a4j:outputPanel id="calendar" layout="block">
				<rich:calendar value="#{item.journeyDate}"  id="journeyDate#{rowIndex+1}"
						required="#{item.departureCity ne null ? true : false}"
						enableManualInput="false" datePattern="MM/dd/yyyy" 
						label="Date of Journey Row#{rowIndex+1}"
					popup="true" />
				</a4j:outputPanel>
			</rich:column>

		</rich:dataTable>

	</a4j:outputPanel>
	</a4j:region>
	<div><h:outputText value="&#160;" /></div>


</ui:composition>
